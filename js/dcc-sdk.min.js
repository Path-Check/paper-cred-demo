!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DCC=e():t.DCC=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=40)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(36);e.BufferVisitor=n.BufferVisitor;var i=r(59);e.PEM=i.PEM;var s=r(62);e.ASN1=s.ASN1,e.Class=s.Class,e.Tag=s.Tag,e.BitString=s.BitString},function(t,e,r){"use strict";e.Commented=r(42),e.Diagnose=r(56),e.Decoder=r(16),e.Encoder=r(35),e.Simple=r(34),e.Tagged=r(33),e.Map=r(57),e.comment=e.Commented.comment,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.decodeAllSync=e.Decoder.decodeAllSync,e.decodeFirstSync=e.Decoder.decodeFirstSync,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.encodeCanonical=e.Encoder.encodeCanonical,e.encodeOne=e.Encoder.encodeOne,e.encodeAsync=e.Encoder.encodeAsync,e.decode=e.Decoder.decodeFirstSync,e.leveldb={decode:e.Decoder.decodeFirstSync,encode:e.Encoder.encode,buffer:!0,name:"cbor"},e.reset=function(){e.Encoder.reset(),e.Tagged.reset()}},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(23),i=r(41),s=r(27);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,r)}function l(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|d(e.length);return 0===(t=a(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):f(t,e);if("Buffer"===e.type&&s(e.data))return f(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=a(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|d(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(t).length;default:if(n)return F(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,r);case"utf8":case"utf-8":return I(this,e,r);case"ascii":return k(this,e,r);case"latin1":case"binary":return R(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:_(t,e,r,n,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):_(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,r,n,i){var s,o=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,r/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var c=-1;for(s=r;s<a;s++)if(l(t,s)===l(e,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===u)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){for(var h=!0,f=0;f<u;f++)if(l(t,s+f)!==l(e,f)){h=!1;break}if(h)return s}return-1}function w(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[r+o]=a}return o}function m(t,e,r,n){return G(F(e,t.length-r),t,r,n)}function E(t,e,r,n){return G(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function v(t,e,r,n){return E(t,e,r,n)}function S(t,e,r,n){return G(z(e),t,r,n)}function A(t,e,r,n){return G(function(t,e){for(var r,n,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function I(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,u,l=t[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=r)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(s=t[i+1]))&&(u=(31&l)<<6|63&s)>127&&(c=u);break;case 3:s=t[i+1],o=t[i+2],128==(192&s)&&128==(192&o)&&(u=(15&l)<<12|(63&s)<<6|63&o)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(u=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return l(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return c(e),e<=0?a(t,e):void 0!==r?"string"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),a=Math.min(s,o),l=this.slice(n,i),c=t.slice(e,r),h=0;h<a;++h)if(l[h]!==c[h]){s=l[h],o=c[h];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return m(this,t,e,r);case"ascii":return E(this,t,e,r);case"latin1":case"binary":return v(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function R(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function B(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=j(t[s]);return i}function U(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function x(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,r,n,i,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function C(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-r,2);i<s;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function O(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-r,4);i<s;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function L(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(t,e,r,n,s){return s||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function P(t,e,r,n,s){return s||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=e,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||N(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||N(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):O(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);N(this,t,e,r,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<r&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);N(this,t,e,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return M(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return M(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return P(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return P(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,s=n-r;if(this===t&&r<e&&e<n)for(i=s-1;i>=0;--i)t[i+e]=this[i+r];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(s=e;s<r;++s)this[s]=t;else{var o=u.isBuffer(t)?t:F(new u(t,n).toString()),a=o.length;for(s=0;s<r-e;++s)this[s+e]=o[s%a]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var r;e=e||1/0;for(var n=t.length,i=null,s=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function z(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(7))},function(t,e,r){"use strict";(function(t){r.d(e,"g",(function(){return f})),r.d(e,"d",(function(){return d})),r.d(e,"f",(function(){return p})),r.d(e,"k",(function(){return b})),r.d(e,"i",(function(){return w})),r.d(e,"c",(function(){return E})),r.d(e,"j",(function(){return v})),r.d(e,"e",(function(){return S})),r.d(e,"h",(function(){return A}));var n=r(24),i=r(38),s=r(25),o=r(1),a=r(23),u=r(18),l=r.n(u),c=r(17);r.d(e,"a",(function(){return c.a})),r.d(e,"b",(function(){return c.b}));var h=r(14);async function f(t,e,r){const s=Object(h.b)(e),a=(u=e,Object(i.createHash)().update(Object(h.a)(u)).digest().slice(0,8));var u;const l={p:{alg:s.alg,kid:a},u:{}},c={key:{pkcs8:Object(h.a)(r)}},f=o.encode(t);return n.a(l,f,c)}async function d(t,e,r){let n=new Map,i=new Date;if(n.set(6,Math.round(i.getTime()/1e3)),e){let t=new Date(i);t.setMonth(t.getMonth()+e),n.set(4,Math.round(t.getTime()/1e3))}return r&&n.set(1,r),n.set(-260,new Map),n.get(-260).set(1,t),n}async function p(t){return t.get(-260)?t.get(-260).get(1):JSON.parse(t.get(99))}function g(t){return a.fromByteArray(t)}function y(e){let r;if(e instanceof t||e instanceof Uint8Array){if(0==e.length)return{};r=o.decode(e)}if(e instanceof Map&&(r=e),r){let t,e;return r.get(1)&&(t=r.get(1)),r.get(4)&&(e=new Uint8Array(r.get(4))),{alg:t,kid:e}}return{}}async function b(t,e){let r,i;try{r=await m(t);let e=await o.decodeFirst(t);e.tag&&(e=e.value);let[n,s,a,u]=e;if(i=o.decode(a),!r||!a)return{status:"invalid_signing_format",raw:r}}catch(t){return console.log(t),{status:"invalid_signing_format",raw:r}}const s=await async function(t){let e=o.decode(new Uint8Array(t));if(!e)return void console.log("Not a readable COSE");let r=e.value;if(!r){if(!Array.isArray(e))return void console.log("COSE object with no Value field and no array",e);console.warn("COSE object with no Value field",e),r=e}let n,[i,s,a,u]=r;try{let t=o.decode(a);t instanceof Map&&(n=t.get(1))}catch(t){console.log(a,t)}let l=y(i),c=y(s);return{alg:l.alg?l.alg:c.alg,kid:l.kid?l.kid:c.kid,iss:n}}(t);if(!s||!s.kid)return{status:"kid_not_included",contents:i,raw:r};let a=await Object(c.c)(g(s.kid));if(!a&&e&&(a={didDocument:e,status:"current"}),!a)return{status:"issuer_not_trusted",contents:i,raw:r};let u=Object(h.b)(a.didDocument);switch(a.status){case"revoked":return{status:"revoked_keys",contents:i,issuer:a,raw:r};case"terminated":return{status:"terminated_keys",contents:i,issuer:a,raw:r};case"expired":return{status:"expired_keys",contents:i,issuer:a,raw:r}}try{u.kid=g(s.kid);const e=await n.b(t,{jwk:u});return{status:"verified",contents:o.decode(e),issuer:a,raw:r}}catch(t){return{status:"invalid_signature",contents:i,issuer:a,raw:r}}}function _(t){let e=t;return e.startsWith("HC1")?(e=e.substring(3),e.startsWith(":")?e=e.substring(1):console.warn("Warning: unsafe HC1: header from older versions")):console.warn("Warning: no HC1: header from older versions"),e}async function w(t){const e=_(t);try{let t=l.a.decode(e);return 120==t[0]&&(t=s.a.inflate(t)),t}catch(t){return void console.log(t)}}async function m(e){if(e instanceof t||e instanceof Uint8Array)try{for(var r in e=o.decode(e))e[r]=await m(e[r])}catch{e=e.toString("base64")}if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=await m(e[t]);if(e instanceof Map)for(const[t,r]of e.entries())e.set(t,await m(e.get(t)));return e}async function E(t){return await m(await w(t))}async function v(t,e){const r=_(t);try{l.a.decode(r)}catch(e){return console.log(e),{status:"invalid_encoding",qr:t}}const n=await w(t);if(!n)return{status:"invalid_compression",qr:t};return{...await b(n,e),qr:t}}async function S(t){const e=s.a.deflate(t);return"HC1:"+l.a.encode(e)}async function A(t,e,r){return await S(await f(t,e,r))}}).call(this,r(2).Buffer)},function(t,e,r){"use strict";(function(t){r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return a})),r.d(e,"a",(function(){return o}));const n={RS512:-259,RS384:-258,RS256:-257,PS256:-37,PS384:-38,PS512:-39,"ECDH-SS-512":-28,"ECDH-SS":-27,"ECDH-ES-512":-26,"ECDH-ES":-25,ES256:-7,ES512:-36,direct:-6,A128GCM:1,A192GCM:2,A256GCM:3,"SHA-256_64":4,"SHA-256-64":4,"HS256/64":4,"SHA-256":5,HS256:5,"SHA-384":6,HS384:6,"SHA-512":7,HS512:7,"AES-CCM-16-64-128":10,"AES-CCM-16-128/64":10,"AES-CCM-16-64-256":11,"AES-CCM-16-256/64":11,"AES-CCM-64-64-128":12,"AES-CCM-64-128/64":12,"AES-CCM-64-64-256":13,"AES-CCM-64-256/64":13,"AES-MAC-128/64":14,"AES-MAC-256/64":15,"AES-MAC-128/128":25,"AES-MAC-256/128":26,"AES-CCM-16-128-128":30,"AES-CCM-16-128/128":30,"AES-CCM-16-128-256":31,"AES-CCM-16-256/128":31,"AES-CCM-64-128-128":32,"AES-CCM-64-128/128":32,"AES-CCM-64-128-256":33,"AES-CCM-64-256/128":33},i={kid:e=>t.from(e,"utf8"),alg:t=>{if(!n[t])throw new Error("Unknown 'alg' parameter, "+t);return n[t]}},s={partyUNonce:-22,static_key_id:-3,static_key:-2,ephemeral_key:-1,alg:1,crit:2,content_type:3,ctyp:3,kid:4,IV:5,Partial_IV:6,counter_signature:7};var o=t.alloc(0);function a(t){const e=new Map;for(const r in t){if(!s[r])throw new Error("Unknown parameter, '"+r+"'");let n=t[r];i[r]&&(n=i[r](t[r])),null!=n&&e.set(s[r],n)}return e}}).call(this,r(2).Buffer)},function(t,e,r){"use strict";e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")},e.SHIFT32=4294967296,e.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(e.SHIFT32)}},function(t,e,r){"use strict";var n=r(15),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=h;var s=Object.create(r(12));s.inherits=r(9);var o=r(28),a=r(22);s.inherits(h,o);for(var u=i(a.prototype),l=0;l<u.length;l++){var c=u[l];h.prototype[c]||(h.prototype[c]=a.prototype[c])}function h(t){if(!(this instanceof h))return new h(t);o.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){t.exports=i;var n=r(19).EventEmitter;function i(){n.call(this)}r(9)(i,n),i.Readable=r(20),i.Writable=r(51),i.Duplex=r(52),i.Transform=r(53),i.PassThrough=r(54),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",s),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",u));var o=!1;function a(){o||(o=!0,t.end())}function u(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function l(t){if(c(),0===n.listenerCount(this,"error"))throw t}function c(){r.removeListener("data",i),t.removeListener("drain",s),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("error",l),t.on("error",l),r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},function(t,e,r){"use strict";const n=r(8),{Buffer:i}=r(2),s=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});class o extends n.Transform{constructor(t,e,r={}){let n=null,s=null;switch(typeof t){case"object":i.isBuffer(t)?n=t:t&&(r=t);break;case"string":n=t;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof e){case"object":e&&(r=e);break;case"string":s=e;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!r||"object"!=typeof r)throw new TypeError("Invalid options");null==n&&(n=r.input),null==s&&(s=r.inputEncoding),delete r.input,delete r.inputEncoding;const o=null==r.watchPipe||r.watchPipe;delete r.watchPipe;const a=Boolean(r.readError);delete r.readError,super(r),this.readError=a,o&&this.on("pipe",t=>{const e=t._readableState.objectMode;if(this.length>0&&e!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=e,this._writableState.objectMode=e}),null!=n&&this.end(n,s)}static isNoFilter(t){return t instanceof this}static compare(t,e){if(!(t instanceof this))throw new TypeError("Arguments must be NoFilters");return t===e?0:t.compare(e)}static concat(t,e){if(!Array.isArray(t))throw new TypeError("list argument must be an Array of NoFilters");if(0===t.length||0===e)return i.alloc(0);null==e&&(e=t.reduce((t,e)=>{if(!(e instanceof o))throw new TypeError("list argument must be an Array of NoFilters");return t+e.length},0));let r=!0,n=!0;const s=t.map(t=>{if(!(t instanceof o))throw new TypeError("list argument must be an Array of NoFilters");const e=t.slice();return i.isBuffer(e)?n=!1:r=!1,e});if(r)return i.concat(s,e);if(n)return[].concat(...s).slice(0,e);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(t,e,r){this._readableState.objectMode||i.isBuffer(t)||(t=i.from(t,e)),this.push(t),r()}_bufArray(){let t=this._readableState.buffer;if(!Array.isArray(t)){let e=t.head;for(t=[];null!=e;)t.push(e.data),e=e.next}return t}read(t){const e=super.read(t);if(null!=e){if(this.emit("read",e),this.readError&&e.length<t)throw new Error(`Read ${e.length}, wanted ${t}`)}else if(this.readError)throw new Error("No data available, wanted "+t);return e}promise(t){let e=!1;return new Promise((r,n)=>{this.on("finish",()=>{const n=this.read();null==t||e||(e=!0,t(null,n)),r(n)}),this.on("error",r=>{null==t||e||(e=!0,t(r)),n(r)})})}compare(t){if(!(t instanceof o))throw new TypeError("Arguments must be NoFilters");if(this===t)return 0;const e=this.slice(),r=t.slice();if(i.isBuffer(e)&&i.isBuffer(r))return e.compare(r);throw new Error("Cannot compare streams in object mode")}equals(t){return 0===this.compare(t)}slice(t,e){if(this._readableState.objectMode)return this._bufArray().slice(t,e);const r=this._bufArray();switch(r.length){case 0:return i.alloc(0);case 1:return r[0].slice(t,e);default:return i.concat(r).slice(t,e)}}get(t){return this.slice()[t]}toJSON(){const t=this.slice();return i.isBuffer(t)?t.toJSON():t}toString(t,e,r){const n=this.slice(e,r);return i.isBuffer(n)?t&&"utf8"!==t?n.toString(t):s.decode(n):JSON.stringify(n)}[Symbol.for("nodejs.util.inspect.custom")](t,e){const r=this._bufArray().map(t=>i.isBuffer(t)?e.stylize(t.toString("hex"),"string"):JSON.stringify(t)).join(", ");return`${this.constructor.name} [${r}]`}get length(){return this._readableState.length}writeBigInt(t){let e=t.toString(16);if(t<0){const r=BigInt(Math.floor(e.length/2));e=(t=(BigInt(1)<<r*BigInt(8))+t).toString(16)}return e.length%2&&(e="0"+e),this.push(i.from(e,"hex"))}readUBigInt(t){const e=this.read(t);return i.isBuffer(e)?BigInt("0x"+e.toString("hex")):null}readBigInt(t){const e=this.read(t);if(!i.isBuffer(e))return null;let r=BigInt("0x"+e.toString("hex"));if(128&e[0]){r-=BigInt(1)<<BigInt(e.length)*BigInt(8)}return r}writeUInt8(t){const e=i.from([t]);return this.push(e)}writeUInt16LE(t){const e=i.alloc(2);return e.writeUInt16LE(t),this.push(e)}writeUInt16BE(t){const e=i.alloc(2);return e.writeUInt16BE(t),this.push(e)}writeUInt32LE(t){const e=i.alloc(4);return e.writeUInt32LE(t),this.push(e)}writeUInt32BE(t){const e=i.alloc(4);return e.writeUInt32BE(t),this.push(e)}writeInt8(t){const e=i.from([t]);return this.push(e)}writeInt16LE(t){const e=i.alloc(2);return e.writeUInt16LE(t),this.push(e)}writeInt16BE(t){const e=i.alloc(2);return e.writeUInt16BE(t),this.push(e)}writeInt32LE(t){const e=i.alloc(4);return e.writeUInt32LE(t),this.push(e)}writeInt32BE(t){const e=i.alloc(4);return e.writeUInt32BE(t),this.push(e)}writeFloatLE(t){const e=i.alloc(4);return e.writeFloatLE(t),this.push(e)}writeFloatBE(t){const e=i.alloc(4);return e.writeFloatBE(t),this.push(e)}writeDoubleLE(t){const e=i.alloc(8);return e.writeDoubleLE(t),this.push(e)}writeDoubleBE(t){const e=i.alloc(8);return e.writeDoubleBE(t),this.push(e)}writeBigInt64LE(t){const e=i.alloc(8);return e.writeBigInt64LE(t),this.push(e)}writeBigInt64BE(t){const e=i.alloc(8);return e.writeBigInt64BE(t),this.push(e)}writeBigUInt64LE(t){const e=i.alloc(8);return e.writeBigUInt64LE(t),this.push(e)}writeBigUInt64BE(t){const e=i.alloc(8);return e.writeBigUInt64BE(t),this.push(e)}readUInt8(){const t=this.read(1);return i.isBuffer(t)?t.readUInt8():null}readUInt16LE(){const t=this.read(2);return i.isBuffer(t)?t.readUInt16LE():null}readUInt16BE(){const t=this.read(2);return i.isBuffer(t)?t.readUInt16BE():null}readUInt32LE(){const t=this.read(4);return i.isBuffer(t)?t.readUInt32LE():null}readUInt32BE(){const t=this.read(4);return i.isBuffer(t)?t.readUInt32BE():null}readInt8(){const t=this.read(1);return i.isBuffer(t)?t.readInt8():null}readInt16LE(){const t=this.read(2);return i.isBuffer(t)?t.readInt16LE():null}readInt16BE(){const t=this.read(2);return i.isBuffer(t)?t.readInt16BE():null}readInt32LE(){const t=this.read(4);return i.isBuffer(t)?t.readInt32LE():null}readInt32BE(){const t=this.read(4);return i.isBuffer(t)?t.readInt32BE():null}readFloatLE(){const t=this.read(4);return i.isBuffer(t)?t.readFloatLE():null}readFloatBE(){const t=this.read(4);return i.isBuffer(t)?t.readFloatBE():null}readDoubleLE(){const t=this.read(8);return i.isBuffer(t)?t.readDoubleLE():null}readDoubleBE(){const t=this.read(8);return i.isBuffer(t)?t.readDoubleBE():null}readBigInt64LE(){const t=this.read(8);return i.isBuffer(t)?t.readBigInt64LE():null}readBigInt64BE(){const t=this.read(8);return i.isBuffer(t)?t.readBigInt64BE():null}readBigUInt64LE(){const t=this.read(8);return i.isBuffer(t)?t.readBigUInt64LE():null}readBigUInt64BE(){const t=this.read(8);return i.isBuffer(t)?t.readBigUInt64BE():null}}t.exports=o},function(t,e){var r,n,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=a(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new p(t,e)),1!==l.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){(function(t){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,r(2).Buffer)},function(t,e,r){"use strict";const{Buffer:n}=r(2),i=r(10),s=r(8),o=r(5),{NUMBYTES:a,SHIFT32:u,BI:l,SYMS:c}=o,h=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});e.utf8=t=>h.decode(t),e.utf8.checksUTF8=!0,e.isBufferish=function(t){return t&&"object"==typeof t&&(n.isBuffer(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof ArrayBuffer||t instanceof DataView)},e.bufferishToBuffer=function(t){return n.isBuffer(t)?t:ArrayBuffer.isView(t)?n.from(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?n.from(t):null},e.parseCBORint=function(t,e){switch(t){case a.ONE:return e.readUInt8(0);case a.TWO:return e.readUInt16BE(0);case a.FOUR:return e.readUInt32BE(0);case a.EIGHT:{const t=e.readUInt32BE(0),r=e.readUInt32BE(4);return t>2097151?BigInt(t)*l.SHIFT32+BigInt(r):t*u+r}default:throw new Error("Invalid additional info for int: "+t)}},e.writeHalf=function(t,e){const r=n.allocUnsafe(4);r.writeFloatBE(e,0);const i=r.readUInt32BE(0);if(0!=(8191&i))return!1;let s=i>>16&32768;const o=i>>23&255,a=8388607&i;if(o>=113&&o<=142)s+=(o-112<<10)+(a>>13);else{if(!(o>=103&&o<113))return!1;if(a&(1<<126-o)-1)return!1;s+=a+8388608>>126-o}return t.writeUInt16BE(s),!0},e.parseHalf=function(t){const e=128&t[0]?-1:1,r=(124&t[0])>>2,n=(3&t[0])<<8|t[1];return r?31===r?e*(n?NaN:1/0):e*2**(r-25)*(1024+n):5.960464477539063e-8*e*n},e.parseCBORfloat=function(t){switch(t.length){case 2:return e.parseHalf(t);case 4:return t.readFloatBE(0);case 8:return t.readDoubleBE(0);default:throw new Error("Invalid float size: "+t.length)}},e.hex=function(t){return n.from(t.replace(/^0x/,""),"hex")},e.bin=function(t){let e=0,r=(t=t.replace(/\s/g,"")).length%8||8;const i=[];for(;r<=t.length;)i.push(parseInt(t.slice(e,r),2)),e=r,r+=8;return n.from(i)},e.arrayEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&(t.length===e.length&&t.every((t,r)=>t===e[r]))},e.bufferToBigInt=function(t){return BigInt("0x"+t.toString("hex"))},e.cborValueToString=function(t,r=-1){switch(typeof t){case"symbol":{switch(t){case c.NULL:return"null";case c.UNDEFINED:return"undefined";case c.BREAK:return"BREAK"}if(t.description)return t.description;const e=t.toString().match(/^Symbol\((?<name>.*)\)/);return e&&e.groups.name?e.groups.name:"Symbol"}case"string":return JSON.stringify(t);case"bigint":return t.toString();case"number":{const e=Object.is(t,-0)?"-0":String(t);return r>0?`${e}_${r}`:e}case"object":{const n=e.bufferishToBuffer(t);if(n){const t=n.toString("hex");return r===-1/0?t:`h'${t}'`}return t&&"function"==typeof t.inspect?t.inspect():Array.isArray(t)?"[]":"{}"}}return String(t)},e.guessEncoding=function(t,r){if("string"==typeof t)return new i(t,null==r?"hex":r);const n=e.bufferishToBuffer(t);if(n)return new i(n);if((o=t)instanceof s.Readable||["read","on","pipe"].every(t=>"function"==typeof o[t]))return t;var o;throw new Error("Unknown input type")};const f={"=":"","+":"-","/":"_"};e.base64url=function(t){return e.bufferishToBuffer(t).toString("base64").replace(/[=+/]/g,t=>f[t])},e.base64=function(t){return e.bufferishToBuffer(t).toString("base64")},e.isBigEndian=function(){const t=new Uint8Array(4);return!((new Uint32Array(t.buffer)[0]=1)&t[0])}},function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return u}));var n=r(0);const i={name:"PublicKeyInfo",class:n.Class.UNIVERSAL,tag:n.Tag.SEQUENCE,capture:"publicKeyInfo",value:[{name:"PublicKeyInfo.AlgorithmIdentifier",class:n.Class.UNIVERSAL,tag:n.Tag.SEQUENCE,value:[{name:"PublicKeyAlgorithmIdentifier.algorithm",class:n.Class.UNIVERSAL,tag:n.Tag.OID,capture:"publicKeyOID"}]},{name:"PublicKeyInfo.PublicKey",class:n.Class.UNIVERSAL,tag:n.Tag.BITSTRING,capture:"publicKey"}]},s={name:"Certificate",class:n.Class.UNIVERSAL,tag:n.Tag.SEQUENCE,value:[{name:"Certificate.TBSCertificate",class:n.Class.UNIVERSAL,tag:n.Tag.SEQUENCE,capture:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",class:n.Class.CONTEXT_SPECIFIC,tag:n.Tag.NONE,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",class:n.Class.UNIVERSAL,tag:n.Tag.INTEGER,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",class:n.Class.UNIVERSAL,tag:n.Tag.INTEGER,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",class:n.Class.UNIVERSAL,tag:n.Tag.SEQUENCE,value:[{name:"Certificate.TBSCertificate.signature.algorithm",class:n.Class.UNIVERSAL,tag:n.Tag.OID,capture:"certinfoSignatureOID"},{name:"Certificate.TBSCertificate.signature.parameters",class:n.Class.UNIVERSAL,tag:n.Tag.OCTETSTRING,optional:!0,capture:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",class:n.Class.UNIVERSAL,tag:n.Tag.SEQUENCE,capture:"certIssuer"},{name:"Certificate.TBSCertificate.validity",class:n.Class.UNIVERSAL,tag:n.Tag.SEQUENCE,value:[{name:"Certificate.TBSCertificate.validity.notBefore",class:n.Class.UNIVERSAL,tag:[n.Tag.UTCTIME,n.Tag.GENERALIZEDTIME],capture:"certValidityNotBefore"},{name:"Certificate.TBSCertificate.validity.notAfter",class:n.Class.UNIVERSAL,tag:[n.Tag.UTCTIME,n.Tag.GENERALIZEDTIME],capture:"certValidityNotAfter"}]},{name:"Certificate.TBSCertificate.subject",class:n.Class.UNIVERSAL,tag:n.Tag.SEQUENCE,capture:"certSubject"},i,{name:"Certificate.TBSCertificate.issuerUniqueID",class:n.Class.CONTEXT_SPECIFIC,tag:n.Tag.BOOLEAN,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",class:n.Class.UNIVERSAL,tag:n.Tag.BITSTRING,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",class:n.Class.CONTEXT_SPECIFIC,tag:n.Tag.INTEGER,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",class:n.Class.UNIVERSAL,tag:n.Tag.BITSTRING,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",class:n.Class.CONTEXT_SPECIFIC,tag:n.Tag.BITSTRING,capture:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",class:n.Class.UNIVERSAL,tag:n.Tag.SEQUENCE,value:[{name:"Certificate.signatureAlgorithm.algorithm",class:n.Class.UNIVERSAL,tag:n.Tag.OID,capture:"certSignatureOID"},{name:"Certificate.TBSCertificate.signature.parameters",class:n.Class.UNIVERSAL,tag:n.Tag.OCTETSTRING,optional:!0,capture:"certSignatureParams"}]},{name:"Certificate.signatureValue",class:n.Class.UNIVERSAL,tag:n.Tag.BITSTRING,capture:"certSignature"}]};function o(t){return n.PEM.parse(t)[0].body}function a(t){return t.toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(t){const e=n.ASN1.fromDER(o(t),!0);let r={oid:void 0,keyRaw:void 0};if(t.includes("CERTIFICATE")){const t={};e.validate(s,t);const o={};t.publicKeyInfo.validate(i,o),r.oid=n.ASN1.parseOID(o.publicKeyOID.bytes),r.keyRaw=n.ASN1.parseBitString(o.publicKey.bytes).buf}else{const t={};e.validate(i,t),r.oid=n.ASN1.parseOID(t.publicKeyOID.bytes),r.keyRaw=n.ASN1.parseBitString(t.publicKey.bytes).buf}if("1.2.840.113549.1.1.1"===r.oid){let t=r.keyRaw;return{alg:"PS256",kid:void 0,n:a(t.slice(9,t.length-5)),e:a(t.slice(t.length-3,t.length))}}{let t=r.keyRaw;return{alg:"ES256",kid:void 0,x:a(t.slice(1,33)),y:a(t.slice(33,65))}}}},function(t,e,r){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,i)}));default:for(s=new Array(a-1),o=0;o<s.length;)s[o++]=arguments[o];return e.nextTick((function(){t.apply(null,s)}))}}}:t.exports=e}).call(this,r(11))},function(t,e,r){"use strict";const n=r(55),i=r(33),s=r(34),o=r(13),a=r(10),u=r(5),{MT:l,NUMBYTES:c,SYMS:h,BI:f}=u,{Buffer:d}=r(2),p=Symbol("count"),g=Symbol("major type"),y=Symbol("error"),b=Symbol("not found");function _(t,e,r){const n=[];return n[p]=r,n[h.PARENT]=t,n[g]=e,n}function w(t,e){const r=new a;return r[p]=-1,r[h.PARENT]=t,r[g]=e,r}class m extends Error{constructor(t,e){super("Unexpected data: 0x"+t.toString(16)),this.name="UnexpectedDataError",this.byte=t,this.value=e}}function E(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}class v extends n{constructor(t={}){const{tags:e={},max_depth:r=-1,preferWeb:n=!1,required:i=!1,encoding:s="hex",extendedResults:o=!1,...u}=t;super({defaultEncoding:s,...u}),this.running=!0,this.max_depth=r,this.tags=e,this.preferWeb=n,this.extendedResults=o,this.required=i,o&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new a)}static nullcheck(t){switch(t){case h.NULL:return null;case h.UNDEFINED:return;case b:throw new Error("Value not found");default:return t}}static decodeFirstSync(t,e={}){if(null==t)throw new TypeError("input required");({options:e}=E(e));const{encoding:r="hex",...n}=e,i=new v(n),s=o.guessEncoding(t,r),a=i._parse();let u=a.next();for(;!u.done;){const t=s.read(u.value);if(null==t||t.length!==u.value)throw new Error("Insufficient data");i.extendedResults&&i.valueBytes.write(t),u=a.next(t)}let l=null;if(i.extendedResults)l=u.value,l.unused=s.read();else if(l=v.nullcheck(u.value),s.length>0){const t=s.read(1);throw s.unshift(t),new m(t[0],l)}return l}static decodeAllSync(t,e={}){if(null==t)throw new TypeError("input required");({options:e}=E(e));const{encoding:r="hex",...n}=e,i=new v(n),s=o.guessEncoding(t,r),a=[];for(;s.length>0;){const t=i._parse();let e=t.next();for(;!e.done;){const r=s.read(e.value);if(null==r||r.length!==e.value)throw new Error("Insufficient data");i.extendedResults&&i.valueBytes.write(r),e=t.next(r)}a.push(v.nullcheck(e.value))}return a}static decodeFirst(t,e={},r=null){if(null==t)throw new TypeError("input required");({options:e,cb:r}=E(e,r));const{encoding:n="hex",required:i=!1,...s}=e,a=new v(s);let u=b;const l=o.guessEncoding(t,n),c=new Promise((t,e)=>{a.on("data",t=>{u=v.nullcheck(t),a.close()}),a.once("error",r=>a.extendedResults&&r instanceof m?(u.unused=a.bs.slice(),t(u)):(u!==b&&(r.value=u),u=y,a.close(),e(r))),a.once("end",()=>{switch(u){case b:return i?e(new Error("No CBOR found")):t(u);case y:return;default:return t(u)}})});return"function"==typeof r&&c.then(t=>r(null,t),r),l.pipe(a),c}static decodeAll(t,e={},r=null){if(null==t)throw new TypeError("input required");({options:e,cb:r}=E(e,r));const{encoding:n="hex",...i}=e,s=new v(i),a=[];s.on("data",t=>a.push(v.nullcheck(t)));const u=new Promise((t,e)=>{s.on("error",e),s.on("end",()=>t(a))});return"function"==typeof r&&u.then(t=>r(void 0,t),t=>r(t,void 0)),o.guessEncoding(t,n).pipe(s),u}close(){this.running=!1,this.__fresh=!0}_onRead(t){this.valueBytes.write(t)}*_parse(){let t=null,e=0,r=null;for(;;){if(this.max_depth>=0&&e>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);const[n]=yield 1;if(!this.running)throw this.bs.unshift(d.from([n])),new m(n);const u=n>>5,y=31&n,b=null==t?void 0:t[g],E=null==t?void 0:t.length;switch(y){case c.ONE:this.emit("more-bytes",u,1,b,E),[r]=yield 1;break;case c.TWO:case c.FOUR:case c.EIGHT:{const t=1<<y-24;this.emit("more-bytes",u,t,b,E);const e=yield t;r=u===l.SIMPLE_FLOAT?e:o.parseCBORint(y,e);break}case 28:case 29:case 30:throw this.running=!1,new Error("Additional info not implemented: "+y);case c.INDEFINITE:switch(u){case l.POS_INT:case l.NEG_INT:case l.TAG:throw new Error("Invalid indefinite encoding for MT "+u)}r=-1;break;default:r=y}switch(u){case l.POS_INT:break;case l.NEG_INT:r=r===Number.MAX_SAFE_INTEGER?f.NEG_MAX:"bigint"==typeof r?f.MINUS_ONE-r:-1-r;break;case l.BYTE_STRING:case l.UTF8_STRING:switch(r){case 0:this.emit("start-string",u,r,b,E),r=u===l.UTF8_STRING?"":this.preferWeb?new Uint8Array(0):d.allocUnsafe(0);break;case-1:this.emit("start",u,h.STREAM,b,E),t=w(t,u),e++;continue;default:this.emit("start-string",u,r,b,E),r=yield r,u===l.UTF8_STRING?r=o.utf8(r):this.preferWeb&&(r=new Uint8Array(r.buffer,r.byteOffset,r.length))}break;case l.ARRAY:case l.MAP:switch(r){case 0:r=u===l.MAP?{}:[];break;case-1:this.emit("start",u,h.STREAM,b,E),t=_(t,u,-1),e++;continue;default:this.emit("start",u,r,b,E),t=_(t,u,r*(u-3)),e++;continue}break;case l.TAG:this.emit("start",u,r,b,E),t=_(t,u,1),t.push(r),e++;continue;case l.SIMPLE_FLOAT:if("number"==typeof r){if(y===c.ONE&&r<32)throw new Error("Invalid two-byte encoding of simple value "+r);const e=null!=t;r=s.decode(r,e,e&&t[p]<0)}else r=o.parseCBORfloat(r)}this.emit("value",r,b,E,y);let S=!1;for(;null!=t;){switch(!1){case r!==h.BREAK:t[p]=1;break;case!Array.isArray(t):t.push(r);break;case!(t instanceof a):{const e=t[g];if(null!=e&&e!==u)throw this.running=!1,new Error("Invalid major type in indefinite encoding");t.write(r)}}if(0!=--t[p]){S=!0;break}if(--e,delete t[p],Array.isArray(t))switch(t[g]){case l.ARRAY:r=t;break;case l.MAP:{let e=!0;if(t.length%2!=0)throw new Error("Invalid map length: "+t.length);for(let r=0,n=t.length;r<n;r+=2)if("string"!=typeof t[r]||"__proto__"===t[r]){e=!1;break}if(e){r={};for(let e=0,n=t.length;e<n;e+=2)r[t[e]]=t[e+1]}else{r=new Map;for(let e=0,n=t.length;e<n;e+=2)r.set(t[e],t[e+1])}break}case l.TAG:r=new i(t[0],t[1]).convert(this.tags);break}else if(t instanceof a)switch(t[g]){case l.BYTE_STRING:r=t.slice(),this.preferWeb&&(r=new Uint8Array(r.buffer,r.byteOffset,r.length));break;case l.UTF8_STRING:r=t.toString("utf-8")}this.emit("stop",t[g]);const n=t;t=t[h.PARENT],delete n[h.PARENT],delete n[g]}if(!S){if(this.extendedResults){const t=this.valueBytes.slice(),e={value:v.nullcheck(r),bytes:t,length:t.length};return this.valueBytes=new a,e}return r}}}}v.NOT_FOUND=b,t.exports=v},function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return l}));var n=r(39),i=r.n(n);let s={},o=void 0;function a(t){for(const[e,r]of Object.entries(t))s[e]={displayName:{en:""},entityType:"issuer",status:"current",credentialType:["v","t","r"],validFromDT:"2021-01-01T01:00:00.000Z",didDocument:"-----BEGIN CERTIFICATE-----\n"+r+"\n-----END CERTIFICATE-----"}}function u(t){for(const[e,r]of Object.entries(t))s[e]={displayName:{en:""},entityType:"issuer",status:"current",credentialType:["v","t","r"],validFromDT:"2021-01-01T01:00:00.000Z",didDocument:"-----BEGIN PUBLIC KEY-----\n"+r+"\n-----END PUBLIC KEY-----"}}async function l(t){if(!s[t]&&(!o||(new Date).getTime()>o.getTime()+864e5)){console.log("KeyID not found: ",t," fetching certificates from PathCheck's Trust Registry");try{const t=await i()("https://raw.githubusercontent.com/Path-Check/trust-registry/main/registry.json",{method:"GET",mode:"no-cors"}),e=await t.text();s=JSON.parse(e).EUDCC}catch(t){console.log(t)}o=new Date}if(s[t])return s[t]}},function(t,e,r){t.exports=r(58)},function(t,e,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,s),n(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}b(t,e,s,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&b(t,"error",e,r)}(t,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,r,n){var i,s,o,a;if(l(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"==typeof o?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(t))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,a=u,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function p(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):y(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function b(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(s){n.once&&t.removeEventListener(e,i),r(s)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)s(u,this,e);else{var l=u.length,c=y(u,l);for(r=0;r<l;++r)s(c[r],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return l(e),this.on(t,d(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,d(this,t,e)),this},a.prototype.removeListener=function(t,e){var r,n,i,s,o;if(l(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},a.prototype.listeners=function(t){return p(this,t,!0)},a.prototype.rawListeners=function(t){return p(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(t,e,r){(e=t.exports=r(28)).Stream=e,e.Readable=e,e.Writable=r(22),e.Duplex=r(6),e.Transform=r(32),e.PassThrough=r(50)},function(t,e,r){var n=r(2),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o),s(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";(function(e,n,i){var s=r(15);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=_;var a,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:s.nextTick;_.WritableState=b;var l=Object.create(r(12));l.inherits=r(9);var c={deprecate:r(48)},h=r(29),f=r(21).Buffer,d=i.Uint8Array||function(){};var p,g=r(30);function y(){}function b(t,e){a=a||r(6),t=t||{};var n=e instanceof a;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,l=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(s.nextTick(i,n),s.nextTick(A,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),A(t,e))}(t,r,n,e,i);else{var o=v(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||E(t,r),n?u(m,t,r,o,i):m(t,r,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function _(t){if(a=a||r(6),!(p.call(_,this)||this instanceof a))return new _(t);this._writableState=new b(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function w(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function m(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),A(t,e)}function E(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,w(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,h=r.callback;if(w(t,e,!1,e.objectMode?1:l.length,l,c,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function v(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final((function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),A(t,e)}))}function A(t,e){var r=v(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,s.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}l.inherits(_,h),b.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(b.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===_&&(t&&t._writableState instanceof b)}})):p=function(t){return t instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(t,e,r){var n,i=this._writableState,o=!1,a=!i.objectMode&&(n=t,f.isBuffer(n)||n instanceof d);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=y),i.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),s.nextTick(e,r)}(this,r):(a||function(t,e,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),s.nextTick(n,o),i=!1),i}(this,i,t,r))&&(i.pendingcb++,o=function(t,e,r,n,i,s){if(!r){var o=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,r));return e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else w(t,e,!1,a,n,i,s);return u}(this,i,a,t,e,r)),o},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||E(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,A(t,e),r&&(e.finished?s.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=g.destroy,_.prototype._undestroy=g.undestroy,_.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(11),r(46).setImmediate,r(7))},function(t,e,r){"use strict";e.byteLength=function(t){var e=l(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=l(t),o=n[0],a=n[1],u=new s(function(t,e,r){return 3*(e+r)/4-r}(0,o,a)),c=0,h=a>0?o-4:o;for(r=0;r<h;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===a&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,u[c++]=255&e);1===a&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,s=[],o=0,a=r-i;o<a;o+=16383)s.push(c(t,o,o+16383>a?a:o+16383));1===i?(e=t[r-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=o.length;a<u;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,r){for(var i,s,o=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return f})),r.d(e,"b",(function(){return p}));var n=r(1),i=r(26),s=r(4);const o=s.a,a=n.Tagged;function u(){return i.a.subtle?i.a.subtle:window.crypto.subtle}const l={"-7":{sign:"ES256",digest:"SHA-256"},"-35":{sign:"ES384",digest:"SHA-384"},"-36":{sign:"ES512",digest:"SHA-512"},"-37":{sign:"PS256",digest:"SHA-256"},"-38":{sign:"PS384",digest:"SHA-384"},"-39":{sign:"PS512",digest:"SHA-512"}},c={ES256:{sign:"ECDSA",kty:"EC",curve:"P-256",digest:"SHA-256"},ES384:{sign:"ECDSA",kty:"EC",curve:"P-384",digest:"SHA-384"},ES512:{sign:"ECDSA",kty:"EC",curve:"P-521",digest:"SHA-512"},PS256:{sign:"RSA-PSS",kty:"RSA",digest:"SHA-256",saltLength:32},PS384:{sign:"RSA-PSS",kty:"RSA",digest:"SHA-384",saltLength:48},PS512:{sign:"RSA-PSS",kty:"RSA",digest:"SHA-512",saltLength:64}};async function h(t,e,r){if(!l[r])throw new Error("Unknown algorithm, "+r);if(!c[l[r].sign])throw new Error("Unsupported algorithm, "+l[r].sign);let i=n.encode(t),s={name:c[l[r].sign].sign,namedCurve:c[l[r].sign].curve,hash:c[l[r].sign].digest,saltLength:c[l[r].sign].saltLength};const o=await u().importKey("pkcs8",e.key.pkcs8,s,!1,["sign"]);return await u().sign(s,o,i)}function f(t,e,r,i){i=i||{};let u=t.u||{},l=t.p||{};l=s.c(l),u=s.c(u);let c=l||{};if(c=0===c.size?o:n.encode(c),Array.isArray(r)){if(0===r.length)throw new Error("There has to be at least one signer");if(r.length>1)throw new Error("Only one signer is supported");const t=r[0],f=t.externalAAD||o;let d=t.p||{},p=t.u||{};d=s.c(d),p=s.c(p);const g=d.get(s.b.alg);d=0===d.size?o:n.encode(d);return h(["Signature",c,d,f,e],t,g).then(t=>{l=0===l.size&&"empty"===i.encodep?o:n.encode(l);const r=[l,u,e,[[d,p,t]]];return n.encode(i.excludetag?r:new a(98,r))})}{const t=r,f=t.externalAAD||o,d=l.get(s.b.alg)||u.get(s.b.alg);return h(["Signature1",c,f,e],t,d).then(t=>{l=0===l.size&&"empty"===i.encodep?o:n.encode(l);const r=[l,u,e,t];return n.encodeCanonical(i.excludetag?r:new a(18,r))})}}async function d(t,e,r,i){if(!l[r])throw new Error("Unknown algorithm, "+r);if(!c[l[r].sign])throw new Error("Unsupported algorithm, "+l[r].sign);const s=n.encode(t);let o={name:c[l[r].sign].sign,namedCurve:c[l[r].sign].curve,hash:c[l[r].sign].digest,saltLength:c[l[r].sign].saltLength},a={kty:c[l[r].sign].kty,crv:c[l[r].sign].curve,e:e.jwk.e,n:e.jwk.n,x:e.jwk.x,y:e.jwk.y};const h=await u().importKey("jwk",a,o,!1,["verify"]);return await u().verify(o,h,i,s)}function p(e,r,i,u){return u=u||{},n.decodeFirst(e).then(e=>{let i=u.defaultType?u.defaultType:98;if(e instanceof a){if(98!==e.tag&&18!==e.tag)throw new Error("Unexpected cbor tag, '"+e.tag+"'");i=e.tag,e=e.value}if(!Array.isArray(e))throw new Error("Expecting Array");if(4!==e.length)throw new Error("Expecting Array of lenght 4");let[l,c,h,f]=e;if(98===i&&!Array.isArray(f))throw new Error("Expecting signature Array");l=l.length?n.decodeFirstSync(l):o,c=c.size?c:o;let p=98===i?function(e,r){for(let n=0;n<e.length;n++){if(e[n][1].get(s.b.kid).equals(t.from(r.jwk.kid,"utf8")))return e[n]}}(f,r):f;if(!p)throw new Error("Failed to find signer with kid"+r.key.kid);if(98===i){const t=r.externalAAD||o;let[e,,i]=p;e=e.length?e:o,l=l.size?n.encode(l):o;const a=n.decode(e).get(s.b.alg);return d(["Signature",l,e,t,h],r,a,i).then(()=>h)}{const t=r.externalAAD||o,e=function(t,e,r){let n;return t.get&&(n=t.get(r)),!n&&e.get&&(n=e.get(r)),n}(l,c,s.b.alg);l=l.size?n.encode(l):o;return d(["Signature1",l,t,h],r,e,p).then(t=>t?h:void 0)}})}}).call(this,r(2).Buffer)},function(t,e,r){"use strict";r.d(e,"a",(function(){return Ve}));function n(t){let e=t.length;for(;--e>=0;)t[e]=0}const i=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),s=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),a=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=new Array(576);n(u);const l=new Array(60);n(l);const c=new Array(512);n(c);const h=new Array(256);n(h);const f=new Array(29);n(f);const d=new Array(30);function p(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let g,y,b;function _(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}n(d);const w=t=>t<256?c[t]:c[256+(t>>>7)],m=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},E=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,m(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},v=(t,e,r)=>{E(t,r[2*e],r[2*e+1])},S=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},A=(t,e,r)=>{const n=new Array(16);let i,s,o=0;for(i=1;i<=15;i++)n[i]=o=o+r[i-1]<<1;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=S(n[e]++,e))}},T=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},I=t=>{t.bi_valid>8?m(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},k=(t,e,r,n)=>{const i=2*e,s=2*r;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]},R=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&k(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!k(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},B=(t,e,r)=>{let n,o,a,u,l=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],o=t.pending_buf[t.l_buf+l],l++,0===n?v(t,o,e):(a=h[o],v(t,a+256+1,e),u=i[a],0!==u&&(o-=f[a],E(t,o,u)),n--,a=w(n),v(t,a,r),u=s[a],0!==u&&(n-=d[a],E(t,n,u)))}while(l<t.last_lit);v(t,256,e)},U=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,u,l=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<s;o++)0!==r[2*o]?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):r[2*o+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,r[2*u]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[2*u+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)R(t,r,o);u=s;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],R(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,r[2*u]=r[2*o]+r[2*a],t.depth[u]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,r[2*o+1]=r[2*a+1]=u,t.heap[1]=u++,R(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length;let l,c,h,f,d,p,g=0;for(f=0;f<=15;f++)t.bl_count[f]=0;for(r[2*t.heap[t.heap_max]+1]=0,l=t.heap_max+1;l<573;l++)c=t.heap[l],f=r[2*r[2*c+1]+1]+1,f>u&&(f=u,g++),r[2*c+1]=f,c>n||(t.bl_count[f]++,d=0,c>=a&&(d=o[c-a]),p=r[2*c],t.opt_len+=p*(f+d),s&&(t.static_len+=p*(i[2*c+1]+d)));if(0!==g){do{for(f=u-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[u]--,g-=2}while(g>0);for(f=u;0!==f;f--)for(c=t.bl_count[f];0!==c;)h=t.heap[--l],h>n||(r[2*h+1]!==f&&(t.opt_len+=(f-r[2*h+1])*r[2*h],r[2*h+1]=f),c--)}})(t,e),A(r,l,t.bl_count)},x=(t,e,r)=>{let n,i,s=-1,o=e[1],a=0,u=7,l=4;for(0===o&&(u=138,l=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++a<u&&i===o||(a<l?t.bl_tree[2*i]+=a:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,s=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4))},N=(t,e,r)=>{let n,i,s=-1,o=e[1],a=0,u=7,l=4;for(0===o&&(u=138,l=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++a<u&&i===o)){if(a<l)do{v(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(v(t,i,t.bl_tree),a--),v(t,16,t.bl_tree),E(t,a-3,2)):a<=10?(v(t,17,t.bl_tree),E(t,a-3,3)):(v(t,18,t.bl_tree),E(t,a-11,7));a=0,s=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4)}};let C=!1;const O=(t,e,r,n)=>{E(t,0+(n?1:0),3),((t,e,r,n)=>{I(t),n&&(m(t,r),m(t,~r)),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r})(t,e,r,!0)};var L={_tr_init:t=>{C||((()=>{let t,e,r,n,a;const _=new Array(16);for(r=0,n=0;n<28;n++)for(f[n]=r,t=0;t<1<<i[n];t++)h[r++]=n;for(h[r-1]=n,a=0,n=0;n<16;n++)for(d[n]=a,t=0;t<1<<s[n];t++)c[a++]=n;for(a>>=7;n<30;n++)for(d[n]=a<<7,t=0;t<1<<s[n]-7;t++)c[256+a++]=n;for(e=0;e<=15;e++)_[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,_[8]++;for(;t<=255;)u[2*t+1]=9,t++,_[9]++;for(;t<=279;)u[2*t+1]=7,t++,_[7]++;for(;t<=287;)u[2*t+1]=8,t++,_[8]++;for(A(u,287,_),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=S(t,5);g=new p(u,i,257,286,15),y=new p(l,s,0,30,15),b=new p(new Array(0),o,0,19,7)})(),C=!0),t.l_desc=new _(t.dyn_ltree,g),t.d_desc=new _(t.dyn_dtree,y),t.bl_desc=new _(t.bl_tree,b),t.bi_buf=0,t.bi_valid=0,T(t)},_tr_stored_block:O,_tr_flush_block:(t,e,r,n)=>{let i,s,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),U(t,t.l_desc),U(t,t.d_desc),o=(t=>{let e;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),U(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*a[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==e?O(t,e,r,n):4===t.strategy||s===i?(E(t,2+(n?1:0),3),B(t,u,l)):(E(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(E(t,e-257,5),E(t,r-1,5),E(t,n-4,4),i=0;i<n;i++)E(t,t.bl_tree[2*a[i]+1],3);N(t,t.dyn_ltree,e-1),N(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),B(t,t.dyn_ltree,t.dyn_dtree)),T(t),n&&I(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(h[r]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1),_tr_align:t=>{E(t,2,3),v(t,256,u),(t=>{16===t.bi_valid?(m(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var M=(t,e,r,n)=>{let i=65535&t|0,s=t>>>16&65535|0,o=0;for(;0!==r;){o=r>2e3?2e3:r,r-=o;do{i=i+e[n++]|0,s=s+i|0}while(--o);i%=65521,s%=65521}return i|s<<16|0};const P=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var D=(t,e,r,n)=>{const i=P,s=n+r;t^=-1;for(let r=n;r<s;r++)t=t>>>8^i[255&(t^e[r])];return-1^t},j={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},F={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:z,_tr_stored_block:G,_tr_flush_block:H,_tr_tally:K,_tr_align:Y}=L,{Z_NO_FLUSH:Z,Z_PARTIAL_FLUSH:W,Z_FULL_FLUSH:V,Z_FINISH:q,Z_BLOCK:$,Z_OK:J,Z_STREAM_END:X,Z_STREAM_ERROR:Q,Z_DATA_ERROR:tt,Z_BUF_ERROR:et,Z_DEFAULT_COMPRESSION:rt,Z_FILTERED:nt,Z_HUFFMAN_ONLY:it,Z_RLE:st,Z_FIXED:ot,Z_DEFAULT_STRATEGY:at,Z_UNKNOWN:ut,Z_DEFLATED:lt}=F,ct=(t,e)=>(t.msg=j[e],e),ht=t=>(t<<1)-(t>4?9:0),ft=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let dt=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const pt=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},gt=(t,e)=>{H(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,pt(t.strm)},yt=(t,e)=>{t.pending_buf[t.pending++]=e},bt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},_t=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=M(t.adler,e,i,r):2===t.state.wrap&&(t.adler=D(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},wt=(t,e)=>{let r,n,i=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match;const u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,l=t.window,c=t.w_mask,h=t.prev,f=t.strstart+258;let d=l[s+o-1],p=l[s+o];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(r=e,l[r+o]===p&&l[r+o-1]===d&&l[r]===l[s]&&l[++r]===l[s+1]){s+=2,r++;do{}while(l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&s<f);if(n=258-(f-s),s=f-258,n>o){if(t.match_start=e,o=n,n>=a)break;d=l[s+o-1],p=l[s+o]}}}while((e=h[e&c])>u&&0!=--i);return o<=t.lookahead?o:t.lookahead},mt=t=>{const e=t.w_size;let r,n,i,s,o;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do{i=t.head[--r],t.head[r]=i>=e?i-e:0}while(--n);n=e,r=n;do{i=t.prev[--r],t.prev[r]=i>=e?i-e:0}while(--n);s+=e}if(0===t.strm.avail_in)break;if(n=_t(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=n,t.lookahead+t.insert>=3)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=dt(t,t.ins_h,t.window[o+1]);t.insert&&(t.ins_h=dt(t,t.ins_h,t.window[o+3-1]),t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},Et=(t,e)=>{let r,n;for(;;){if(t.lookahead<262){if(mt(t),t.lookahead<262&&e===Z)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=dt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-262&&(t.match_length=wt(t,r)),t.match_length>=3)if(n=K(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=dt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=dt(t,t.ins_h,t.window[t.strstart+1]);else n=K(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(gt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===q?(gt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(gt(t,!1),0===t.strm.avail_out)?1:2},vt=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<262){if(mt(t),t.lookahead<262&&e===Z)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=dt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-262&&(t.match_length=wt(t,r),t.match_length<=5&&(t.strategy===nt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=K(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=dt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(gt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=K(t,0,t.window[t.strstart-1]),n&&gt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=K(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===q?(gt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(gt(t,!1),0===t.strm.avail_out)?1:2};function St(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const At=[new St(0,0,0,0,(t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(mt(t),0===t.lookahead&&e===Z)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,gt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(gt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===q?(gt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(gt(t,!1),t.strm.avail_out),1)}),new St(4,4,8,4,Et),new St(4,5,16,8,Et),new St(4,6,32,32,Et),new St(4,4,16,16,vt),new St(8,16,32,32,vt),new St(8,16,128,128,vt),new St(8,32,128,256,vt),new St(32,128,258,1024,vt),new St(32,258,258,4096,vt)];function Tt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=lt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ft(this.dyn_ltree),ft(this.dyn_dtree),ft(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ft(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ft(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const It=t=>{if(!t||!t.state)return ct(t,Q);t.total_in=t.total_out=0,t.data_type=ut;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=Z,z(e),J},kt=t=>{const e=It(t);var r;return e===J&&((r=t.state).window_size=2*r.w_size,ft(r.head),r.max_lazy_match=At[r.level].max_lazy,r.good_match=At[r.level].good_length,r.nice_match=At[r.level].nice_length,r.max_chain_length=At[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},Rt=(t,e,r,n,i,s)=>{if(!t)return Q;let o=1;if(e===rt&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>9||r!==lt||n<8||n>15||e<0||e>9||s<0||s>ot)return ct(t,Q);8===n&&(n=9);const a=new Tt;return t.state=a,a.strm=t,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=s,a.method=r,kt(t)};var Bt={deflateInit:(t,e)=>Rt(t,e,lt,15,8,at),deflateInit2:Rt,deflateReset:kt,deflateResetKeep:It,deflateSetHeader:(t,e)=>t&&t.state?2!==t.state.wrap?Q:(t.state.gzhead=e,J):Q,deflate:(t,e)=>{let r,n;if(!t||!t.state||e>$||e<0)return t?ct(t,Q):Q;const i=t.state;if(!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==q)return ct(t,0===t.avail_out?et:Q);i.strm=t;const s=i.last_flush;if(i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,yt(i,31),yt(i,139),yt(i,8),i.gzhead?(yt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),yt(i,255&i.gzhead.time),yt(i,i.gzhead.time>>8&255),yt(i,i.gzhead.time>>16&255),yt(i,i.gzhead.time>>24&255),yt(i,9===i.level?2:i.strategy>=it||i.level<2?4:0),yt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(yt(i,255&i.gzhead.extra.length),yt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=D(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(yt(i,0),yt(i,0),yt(i,0),yt(i,0),yt(i,0),yt(i,9===i.level?2:i.strategy>=it||i.level<2?4:0),yt(i,3),i.status=113);else{let e=lt+(i.w_bits-8<<4)<<8,r=-1;r=i.strategy>=it||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=r<<6,0!==i.strstart&&(e|=32),e+=31-e%31,i.status=113,bt(i,e),0!==i.strstart&&(bt(i,t.adler>>>16),bt(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=D(t.adler,i.pending_buf,i.pending-r,r)),pt(t),r=i.pending,i.pending!==i.pending_buf_size));)yt(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=D(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=D(t.adler,i.pending_buf,i.pending-r,r)),pt(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,yt(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=D(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=D(t.adler,i.pending_buf,i.pending-r,r)),pt(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,yt(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=D(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&pt(t),i.pending+2<=i.pending_buf_size&&(yt(i,255&t.adler),yt(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(pt(t),0===t.avail_out)return i.last_flush=-1,J}else if(0===t.avail_in&&ht(e)<=ht(s)&&e!==q)return ct(t,et);if(666===i.status&&0!==t.avail_in)return ct(t,et);if(0!==t.avail_in||0!==i.lookahead||e!==Z&&666!==i.status){let r=i.strategy===it?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(mt(t),0===t.lookahead)){if(e===Z)return 1;break}if(t.match_length=0,r=K(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(gt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===q?(gt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(gt(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===st?((t,e)=>{let r,n,i,s;const o=t.window;for(;;){if(t.lookahead<=258){if(mt(t),t.lookahead<=258&&e===Z)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=t.strstart+258;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);t.match_length=258-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=K(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=K(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(gt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===q?(gt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(gt(t,!1),0===t.strm.avail_out)?1:2})(i,e):At[i.level].func(i,e);if(3!==r&&4!==r||(i.status=666),1===r||3===r)return 0===t.avail_out&&(i.last_flush=-1),J;if(2===r&&(e===W?Y(i):e!==$&&(G(i,0,0,!1),e===V&&(ft(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),pt(t),0===t.avail_out))return i.last_flush=-1,J}return e!==q?J:i.wrap<=0?X:(2===i.wrap?(yt(i,255&t.adler),yt(i,t.adler>>8&255),yt(i,t.adler>>16&255),yt(i,t.adler>>24&255),yt(i,255&t.total_in),yt(i,t.total_in>>8&255),yt(i,t.total_in>>16&255),yt(i,t.total_in>>24&255)):(bt(i,t.adler>>>16),bt(i,65535&t.adler)),pt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?J:X)},deflateEnd:t=>{if(!t||!t.state)return Q;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?ct(t,Q):(t.state=null,113===e?ct(t,tt):J)},deflateSetDictionary:(t,e)=>{let r=e.length;if(!t||!t.state)return Q;const n=t.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return Q;if(1===i&&(t.adler=M(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(ft(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,mt(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=dt(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,mt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,n.wrap=i,J},deflateInfo:"pako deflate (from Nodeca project)"};const Ut=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var xt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)Ut(r,e)&&(t[e]=r[e])}}return t},Nt=t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r};let Ct=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Ct=!1}const Ot=new Uint8Array(256);for(let t=0;t<256;t++)Ot[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ot[254]=Ot[254]=1;var Lt=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<o&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<o&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|63&r):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e},Mt=(t,e)=>{const r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const s=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){s[i++]=e;continue}let o=Ot[e];if(o>4)s[i++]=65533,n+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&n<r;)e=e<<6|63&t[n++],o--;o>1?s[i++]=65533:e<65536?s[i++]=e:(e-=65536,s[i++]=55296|e>>10&1023,s[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Ct)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(s,i)},Pt=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+Ot[t[r]]>e?r:e};var Dt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const jt=Object.prototype.toString,{Z_NO_FLUSH:Ft,Z_SYNC_FLUSH:zt,Z_FULL_FLUSH:Gt,Z_FINISH:Ht,Z_OK:Kt,Z_STREAM_END:Yt,Z_DEFAULT_COMPRESSION:Zt,Z_DEFAULT_STRATEGY:Wt,Z_DEFLATED:Vt}=F;function qt(t){this.options=xt({level:Zt,method:Vt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wt},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Dt,this.strm.avail_out=0;let r=Bt.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Kt)throw new Error(j[r]);if(e.header&&Bt.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Lt(e.dictionary):"[object ArrayBuffer]"===jt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=Bt.deflateSetDictionary(this.strm,t),r!==Kt)throw new Error(j[r]);this._dict_set=!0}}function $t(t,e){const r=new qt(e);if(r.push(t,!0),r.err)throw r.msg||j[r.err];return r.result}qt.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Ht:Ft,"string"==typeof t?r.input=Lt(t):"[object ArrayBuffer]"===jt.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===zt||s===Gt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=Bt.deflate(r,s),i===Yt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Bt.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Kt;if(0!==r.avail_out){if(s>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},qt.prototype.onData=function(t){this.chunks.push(t)},qt.prototype.onEnd=function(t){t===Kt&&(this.result=Nt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Jt={Deflate:qt,deflate:$t,deflateRaw:function(t,e){return(e=e||{}).raw=!0,$t(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,$t(t,e)},constants:F};var Xt=function(t,e){let r,n,i,s,o,a,u,l,c,h,f,d,p,g,y,b,_,w,m,E,v,S,A,T;const I=t.state;r=t.next_in,A=t.input,n=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(e-t.avail_out),o=i+(t.avail_out-257),a=I.dmax,u=I.wsize,l=I.whave,c=I.wnext,h=I.window,f=I.hold,d=I.bits,p=I.lencode,g=I.distcode,y=(1<<I.lenbits)-1,b=(1<<I.distbits)-1;t:do{d<15&&(f+=A[r++]<<d,d+=8,f+=A[r++]<<d,d+=8),_=p[f&y];e:for(;;){if(w=_>>>24,f>>>=w,d-=w,w=_>>>16&255,0===w)T[i++]=65535&_;else{if(!(16&w)){if(0==(64&w)){_=p[(65535&_)+(f&(1<<w)-1)];continue e}if(32&w){I.mode=12;break t}t.msg="invalid literal/length code",I.mode=30;break t}m=65535&_,w&=15,w&&(d<w&&(f+=A[r++]<<d,d+=8),m+=f&(1<<w)-1,f>>>=w,d-=w),d<15&&(f+=A[r++]<<d,d+=8,f+=A[r++]<<d,d+=8),_=g[f&b];r:for(;;){if(w=_>>>24,f>>>=w,d-=w,w=_>>>16&255,!(16&w)){if(0==(64&w)){_=g[(65535&_)+(f&(1<<w)-1)];continue r}t.msg="invalid distance code",I.mode=30;break t}if(E=65535&_,w&=15,d<w&&(f+=A[r++]<<d,d+=8,d<w&&(f+=A[r++]<<d,d+=8)),E+=f&(1<<w)-1,E>a){t.msg="invalid distance too far back",I.mode=30;break t}if(f>>>=w,d-=w,w=i-s,E>w){if(w=E-w,w>l&&I.sane){t.msg="invalid distance too far back",I.mode=30;break t}if(v=0,S=h,0===c){if(v+=u-w,w<m){m-=w;do{T[i++]=h[v++]}while(--w);v=i-E,S=T}}else if(c<w){if(v+=u+c-w,w-=c,w<m){m-=w;do{T[i++]=h[v++]}while(--w);if(v=0,c<m){w=c,m-=w;do{T[i++]=h[v++]}while(--w);v=i-E,S=T}}}else if(v+=c-w,w<m){m-=w;do{T[i++]=h[v++]}while(--w);v=i-E,S=T}for(;m>2;)T[i++]=S[v++],T[i++]=S[v++],T[i++]=S[v++],m-=3;m&&(T[i++]=S[v++],m>1&&(T[i++]=S[v++]))}else{v=i-E;do{T[i++]=T[v++],T[i++]=T[v++],T[i++]=T[v++],m-=3}while(m>2);m&&(T[i++]=T[v++],m>1&&(T[i++]=T[v++]))}break}}break}}while(r<n&&i<o);m=d>>3,r-=m,d-=m<<3,f&=(1<<d)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<o?o-i+257:257-(i-o),I.hold=f,I.bits=d};const Qt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ee=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),re=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ne=(t,e,r,n,i,s,o,a)=>{const u=a.bits;let l,c,h,f,d,p,g=0,y=0,b=0,_=0,w=0,m=0,E=0,v=0,S=0,A=0,T=null,I=0;const k=new Uint16Array(16),R=new Uint16Array(16);let B,U,x,N=null,C=0;for(g=0;g<=15;g++)k[g]=0;for(y=0;y<n;y++)k[e[r+y]]++;for(w=u,_=15;_>=1&&0===k[_];_--);if(w>_&&(w=_),0===_)return i[s++]=20971520,i[s++]=20971520,a.bits=1,0;for(b=1;b<_&&0===k[b];b++);for(w<b&&(w=b),v=1,g=1;g<=15;g++)if(v<<=1,v-=k[g],v<0)return-1;if(v>0&&(0===t||1!==_))return-1;for(R[1]=0,g=1;g<15;g++)R[g+1]=R[g]+k[g];for(y=0;y<n;y++)0!==e[r+y]&&(o[R[e[r+y]]++]=y);if(0===t?(T=N=o,p=19):1===t?(T=Qt,I-=257,N=te,C-=257,p=256):(T=ee,N=re,p=-1),A=0,y=0,g=b,d=s,m=w,E=0,h=-1,S=1<<w,f=S-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){B=g-E,o[y]<p?(U=0,x=o[y]):o[y]>p?(U=N[C+o[y]],x=T[I+o[y]]):(U=96,x=0),l=1<<g-E,c=1<<m,b=c;do{c-=l,i[d+(A>>E)+c]=B<<24|U<<16|x|0}while(0!==c);for(l=1<<g-1;A&l;)l>>=1;if(0!==l?(A&=l-1,A+=l):A=0,y++,0==--k[g]){if(g===_)break;g=e[r+o[y]]}if(g>w&&(A&f)!==h){for(0===E&&(E=w),d+=b,m=g-E,v=1<<m;m+E<_&&(v-=k[m+E],!(v<=0));)m++,v<<=1;if(S+=1<<m,1===t&&S>852||2===t&&S>592)return 1;h=A&f,i[h]=w<<24|m<<16|d-s|0}}return 0!==A&&(i[d+A]=g-E<<24|64<<16|0),a.bits=w,0};const{Z_FINISH:ie,Z_BLOCK:se,Z_TREES:oe,Z_OK:ae,Z_STREAM_END:ue,Z_NEED_DICT:le,Z_STREAM_ERROR:ce,Z_DATA_ERROR:he,Z_MEM_ERROR:fe,Z_BUF_ERROR:de,Z_DEFLATED:pe}=F,ge=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function ye(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const be=t=>{if(!t||!t.state)return ce;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ae},_e=t=>{if(!t||!t.state)return ce;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,be(t)},we=(t,e)=>{let r;if(!t||!t.state)return ce;const n=t.state;return e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?ce:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,_e(t))},me=(t,e)=>{if(!t)return ce;const r=new ye;t.state=r,r.window=null;const n=we(t,e);return n!==ae&&(t.state=null),n};let Ee,ve,Se=!0;const Ae=t=>{if(Se){Ee=new Int32Array(512),ve=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ne(1,t.lens,0,288,Ee,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ne(2,t.lens,0,32,ve,0,t.work,{bits:5}),Se=!1}t.lencode=Ee,t.lenbits=9,t.distcode=ve,t.distbits=5},Te=(t,e,r,n)=>{let i;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),(n-=i)?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var Ie={inflateReset:_e,inflateReset2:we,inflateResetKeep:be,inflateInit:t=>me(t,15),inflateInit2:me,inflate:(t,e)=>{let r,n,i,s,o,a,u,l,c,h,f,d,p,g,y,b,_,w,m,E,v,S,A=0;const T=new Uint8Array(4);let I,k;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return ce;r=t.state,12===r.mode&&(r.mode=13),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,l=r.hold,c=r.bits,h=a,f=u,S=ae;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;c<16;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}if(2&r.wrap&&35615===l){r.check=0,T[0]=255&l,T[1]=l>>>8&255,r.check=D(r.check,T,2,0),l=0,c=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=30;break}if((15&l)!==pe){t.msg="unknown compression method",r.mode=30;break}if(l>>>=4,c-=4,v=8+(15&l),0===r.wbits)r.wbits=v;else if(v>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=512&l?10:12,l=0,c=0;break;case 2:for(;c<16;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}if(r.flags=l,(255&r.flags)!==pe){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=l>>8&1),512&r.flags&&(T[0]=255&l,T[1]=l>>>8&255,r.check=D(r.check,T,2,0)),l=0,c=0,r.mode=3;case 3:for(;c<32;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}r.head&&(r.head.time=l),512&r.flags&&(T[0]=255&l,T[1]=l>>>8&255,T[2]=l>>>16&255,T[3]=l>>>24&255,r.check=D(r.check,T,4,0)),l=0,c=0,r.mode=4;case 4:for(;c<16;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}r.head&&(r.head.xflags=255&l,r.head.os=l>>8),512&r.flags&&(T[0]=255&l,T[1]=l>>>8&255,r.check=D(r.check,T,2,0)),l=0,c=0,r.mode=5;case 5:if(1024&r.flags){for(;c<16;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}r.length=l,r.head&&(r.head.extra_len=l),512&r.flags&&(T[0]=255&l,T[1]=l>>>8&255,r.check=D(r.check,T,2,0)),l=0,c=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(d=r.length,d>a&&(d=a),d&&(r.head&&(v=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+d),v)),512&r.flags&&(r.check=D(r.check,n,d,s)),a-=d,s+=d,r.length-=d),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===a)break t;d=0;do{v=n[s+d++],r.head&&v&&r.length<65536&&(r.head.name+=String.fromCharCode(v))}while(v&&d<a);if(512&r.flags&&(r.check=D(r.check,n,d,s)),a-=d,s+=d,v)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===a)break t;d=0;do{v=n[s+d++],r.head&&v&&r.length<65536&&(r.head.comment+=String.fromCharCode(v))}while(v&&d<a);if(512&r.flags&&(r.check=D(r.check,n,d,s)),a-=d,s+=d,v)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;c<16;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}if(l!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}l=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;c<32;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}t.adler=r.check=ge(l),l=0,c=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=c,le;t.adler=r.check=1,r.mode=12;case 12:if(e===se||e===oe)break t;case 13:if(r.last){l>>>=7&c,c-=7&c,r.mode=27;break}for(;c<3;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}switch(r.last=1&l,l>>>=1,c-=1,3&l){case 0:r.mode=14;break;case 1:if(Ae(r),r.mode=20,e===oe){l>>>=2,c-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}l>>>=2,c-=2;break;case 14:for(l>>>=7&c,c-=7&c;c<32;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&l,l=0,c=0,r.mode=15,e===oe)break t;case 15:r.mode=16;case 16:if(d=r.length,d){if(d>a&&(d=a),d>u&&(d=u),0===d)break t;i.set(n.subarray(s,s+d),o),a-=d,s+=d,u-=d,o+=d,r.length-=d;break}r.mode=12;break;case 17:for(;c<14;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}if(r.nlen=257+(31&l),l>>>=5,c-=5,r.ndist=1+(31&l),l>>>=5,c-=5,r.ncode=4+(15&l),l>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;c<3;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}r.lens[R[r.have++]]=7&l,l>>>=3,c-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,I={bits:r.lenbits},S=ne(0,r.lens,0,19,r.lencode,0,r.work,I),r.lenbits=I.bits,S){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[l&(1<<r.lenbits)-1],y=A>>>24,b=A>>>16&255,_=65535&A,!(y<=c);){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}if(_<16)l>>>=y,c-=y,r.lens[r.have++]=_;else{if(16===_){for(k=y+2;c<k;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}if(l>>>=y,c-=y,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}v=r.lens[r.have-1],d=3+(3&l),l>>>=2,c-=2}else if(17===_){for(k=y+3;c<k;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}l>>>=y,c-=y,v=0,d=3+(7&l),l>>>=3,c-=3}else{for(k=y+7;c<k;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}l>>>=y,c-=y,v=0,d=11+(127&l),l>>>=7,c-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;d--;)r.lens[r.have++]=v}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,I={bits:r.lenbits},S=ne(1,r.lens,0,r.nlen,r.lencode,0,r.work,I),r.lenbits=I.bits,S){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,I={bits:r.distbits},S=ne(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,I),r.distbits=I.bits,S){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,e===oe)break t;case 20:r.mode=21;case 21:if(a>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=c,Xt(t,f),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,l=r.hold,c=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;A=r.lencode[l&(1<<r.lenbits)-1],y=A>>>24,b=A>>>16&255,_=65535&A,!(y<=c);){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}if(b&&0==(240&b)){for(w=y,m=b,E=_;A=r.lencode[E+((l&(1<<w+m)-1)>>w)],y=A>>>24,b=A>>>16&255,_=65535&A,!(w+y<=c);){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}l>>>=w,c-=w,r.back+=w}if(l>>>=y,c-=y,r.back+=y,r.length=_,0===b){r.mode=26;break}if(32&b){r.back=-1,r.mode=12;break}if(64&b){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&b,r.mode=22;case 22:if(r.extra){for(k=r.extra;c<k;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;A=r.distcode[l&(1<<r.distbits)-1],y=A>>>24,b=A>>>16&255,_=65535&A,!(y<=c);){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}if(0==(240&b)){for(w=y,m=b,E=_;A=r.distcode[E+((l&(1<<w+m)-1)>>w)],y=A>>>24,b=A>>>16&255,_=65535&A,!(w+y<=c);){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}l>>>=w,c-=w,r.back+=w}if(l>>>=y,c-=y,r.back+=y,64&b){t.msg="invalid distance code",r.mode=30;break}r.offset=_,r.extra=15&b,r.mode=24;case 24:if(r.extra){for(k=r.extra;c<k;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===u)break t;if(d=f-u,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),g=r.window}else g=i,p=o-r.offset,d=r.length;d>u&&(d=u),u-=d,r.length-=d;do{i[o++]=g[p++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===u)break t;i[o++]=r.length,u--,r.mode=21;break;case 27:if(r.wrap){for(;c<32;){if(0===a)break t;a--,l|=n[s++]<<c,c+=8}if(f-=u,t.total_out+=f,r.total+=f,f&&(t.adler=r.check=r.flags?D(r.check,i,f,o-f):M(r.check,i,f,o-f)),f=u,(r.flags?l:ge(l))!==r.check){t.msg="incorrect data check",r.mode=30;break}l=0,c=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;c<32;){if(0===a)break t;a--,l+=n[s++]<<c,c+=8}if(l!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}l=0,c=0}r.mode=29;case 29:S=ue;break t;case 30:S=he;break t;case 31:return fe;case 32:default:return ce}return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=c,(r.wsize||f!==t.avail_out&&r.mode<30&&(r.mode<27||e!==ie))&&Te(t,t.output,t.next_out,f-t.avail_out),h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,r.total+=f,r.wrap&&f&&(t.adler=r.check=r.flags?D(r.check,i,f,t.next_out-f):M(r.check,i,f,t.next_out-f)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===h&&0===f||e===ie)&&S===ae&&(S=de),S},inflateEnd:t=>{if(!t||!t.state)return ce;let e=t.state;return e.window&&(e.window=null),t.state=null,ae},inflateGetHeader:(t,e)=>{if(!t||!t.state)return ce;const r=t.state;return 0==(2&r.wrap)?ce:(r.head=e,e.done=!1,ae)},inflateSetDictionary:(t,e)=>{const r=e.length;let n,i,s;return t&&t.state?(n=t.state,0!==n.wrap&&11!==n.mode?ce:11===n.mode&&(i=1,i=M(i,e,r,0),i!==n.check)?he:(s=Te(t,e,r,r),s?(n.mode=31,fe):(n.havedict=1,ae))):ce},inflateInfo:"pako inflate (from Nodeca project)"};var ke=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Re=Object.prototype.toString,{Z_NO_FLUSH:Be,Z_FINISH:Ue,Z_OK:xe,Z_STREAM_END:Ne,Z_NEED_DICT:Ce,Z_STREAM_ERROR:Oe,Z_DATA_ERROR:Le,Z_MEM_ERROR:Me}=F;function Pe(t){this.options=xt({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Dt,this.strm.avail_out=0;let r=Ie.inflateInit2(this.strm,e.windowBits);if(r!==xe)throw new Error(j[r]);if(this.header=new ke,Ie.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Lt(e.dictionary):"[object ArrayBuffer]"===Re.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Ie.inflateSetDictionary(this.strm,e.dictionary),r!==xe)))throw new Error(j[r])}function De(t,e){const r=new Pe(e);if(r.push(t),r.err)throw r.msg||j[r.err];return r.result}Pe.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Ue:Be,"[object ArrayBuffer]"===Re.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Ie.inflate(r,o),s===Ce&&i&&(s=Ie.inflateSetDictionary(r,i),s===xe?s=Ie.inflate(r,o):s===Le&&(s=Ce));r.avail_in>0&&s===Ne&&r.state.wrap>0&&0!==t[r.next_in];)Ie.inflateReset(r),s=Ie.inflate(r,o);switch(s){case Oe:case Le:case Ce:case Me:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(0===r.avail_out||s===Ne))if("string"===this.options.to){let t=Pt(r.output,r.next_out),e=r.next_out-t,i=Mt(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(s!==xe||0!==a){if(s===Ne)return s=Ie.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},Pe.prototype.onData=function(t){this.chunks.push(t)},Pe.prototype.onEnd=function(t){t===xe&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Nt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var je={Inflate:Pe,inflate:De,inflateRaw:function(t,e){return(e=e||{}).raw=!0,De(t,e)},ungzip:De,constants:F};const{Deflate:Fe,deflate:ze,deflateRaw:Ge,gzip:He}=Jt,{Inflate:Ke,inflate:Ye,inflateRaw:Ze,ungzip:We}=je;var Ve={Deflate:Fe,deflate:ze,deflateRaw:Ge,gzip:He,Inflate:Ke,inflate:Ye,inflateRaw:Ze,ungzip:We,constants:F}},function(t,e,r){"use strict";
/**
 * @file Web Cryptography API shim
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */!function(t,e){"function"==typeof define&&define.amd?define([],(function(){return e(t)})):"object"==typeof module&&module.exports?module.exports=e(t):e(t)}("undefined"!=typeof self?self:void 0,(function(t){if("function"!=typeof Promise)throw"Promise support required";var e=t.crypto||t.msCrypto;if(e){var r=e.subtle||e.webkitSubtle;if(r){var n=t.Crypto||e.constructor||Object,i=t.SubtleCrypto||r.constructor||Object,s=(t.CryptoKey||t.Key,t.navigator.userAgent.indexOf("Edge/")>-1),o=!!t.msCrypto&&!s,a=!e.subtle&&!!e.webkitSubtle;if(o||a){var u={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},l={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach((function(t){var n=r[t];r[t]=function(i,s,u){var l,c,h,p,m=[].slice.call(arguments);switch(t){case"generateKey":l=g(i),c=s,h=u;break;case"importKey":l=g(u),c=m[3],h=m[4],"jwk"===i&&((s=b(s)).alg||(s.alg=y(l)),s.key_ops||(s.key_ops="oct"!==s.kty?"d"in s?h.filter(T):h.filter(A):h.slice()),m[1]=_(s));break;case"unwrapKey":l=m[4],c=m[5],h=m[6],m[2]=u._key}if("generateKey"===t&&"HMAC"===l.name&&l.hash)return l.length=l.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[l.hash.name],r.importKey("raw",e.getRandomValues(new Uint8Array(l.length+7>>3)),l,c,h);if(a&&"generateKey"===t&&"RSASSA-PKCS1-v1_5"===l.name&&(!l.modulusLength||l.modulusLength>=2048))return(i=g(i)).name="RSAES-PKCS1-v1_5",delete i.hash,r.generateKey(i,!0,["encrypt","decrypt"]).then((function(t){return Promise.all([r.exportKey("jwk",t.publicKey),r.exportKey("jwk",t.privateKey)])})).then((function(t){return t[0].alg=t[1].alg=y(l),t[0].key_ops=h.filter(A),t[1].key_ops=h.filter(T),Promise.all([r.importKey("jwk",t[0],l,!0,t[0].key_ops),r.importKey("jwk",t[1],l,c,t[1].key_ops)])})).then((function(t){return{publicKey:t[0],privateKey:t[1]}}));if((a||o&&"SHA-1"===(l.hash||{}).name)&&"importKey"===t&&"jwk"===i&&"HMAC"===l.name&&"oct"===s.kty)return r.importKey("raw",d(f(s.k)),u,m[3],m[4]);if(a&&"importKey"===t&&("spki"===i||"pkcs8"===i))return r.importKey("jwk",w(s),u,m[3],m[4]);if(o&&"unwrapKey"===t)return r.decrypt(m[3],u,s).then((function(t){return r.importKey(i,t,m[4],m[5],m[6])}));try{p=n.apply(r,m)}catch(t){return Promise.reject(t)}return o&&(p=new Promise((function(t,e){p.onabort=p.onerror=function(t){e(t)},p.oncomplete=function(e){t(e.target.result)}}))),p=p.then((function(t){return"HMAC"===l.name&&(l.length||(l.length=8*t.algorithm.length)),0==l.name.search("RSA")&&(l.modulusLength||(l.modulusLength=(t.publicKey||t).algorithm.modulusLength),l.publicExponent||(l.publicExponent=(t.publicKey||t).algorithm.publicExponent)),t=t.publicKey&&t.privateKey?{publicKey:new S(t.publicKey,l,c,h.filter(A)),privateKey:new S(t.privateKey,l,c,h.filter(T))}:new S(t,l,c,h)}))}})),["exportKey","wrapKey"].forEach((function(t){var e=r[t];r[t]=function(n,i,s){var u,l=[].slice.call(arguments);switch(t){case"exportKey":l[1]=i._key;break;case"wrapKey":l[1]=i._key,l[2]=s._key}if((a||o&&"SHA-1"===(i.algorithm.hash||{}).name)&&"exportKey"===t&&"jwk"===n&&"HMAC"===i.algorithm.name&&(l[0]="raw"),!a||"exportKey"!==t||"spki"!==n&&"pkcs8"!==n||(l[0]="jwk"),o&&"wrapKey"===t)return r.exportKey(n,i).then((function(t){return"jwk"===n&&(t=d(unescape(encodeURIComponent(JSON.stringify(b(t)))))),r.encrypt(l[3],s,t)}));try{u=e.apply(r,l)}catch(t){return Promise.reject(t)}return o&&(u=new Promise((function(t,e){u.onabort=u.onerror=function(t){e(t)},u.oncomplete=function(e){t(e.target.result)}}))),"exportKey"===t&&"jwk"===n&&(u=u.then((function(t){return(a||o&&"SHA-1"===(i.algorithm.hash||{}).name)&&"HMAC"===i.algorithm.name?{kty:"oct",alg:y(i.algorithm),key_ops:i.usages.slice(),ext:!0,k:h(p(t))}:((t=b(t)).alg||(t.alg=y(i.algorithm)),t.key_ops||(t.key_ops="public"===i.type?i.usages.filter(A):"private"===i.type?i.usages.filter(T):i.usages.slice()),t)}))),!a||"exportKey"!==t||"spki"!==n&&"pkcs8"!==n||(u=u.then((function(t){return t=m(b(t))}))),u}})),["encrypt","decrypt","sign","verify"].forEach((function(t){var e=r[t];r[t]=function(n,i,s,a){if(o&&(!s.byteLength||a&&!a.byteLength))throw new Error("Empy input is not allowed");var u,l=[].slice.call(arguments),c=g(n);if(o&&"decrypt"===t&&"AES-GCM"===c.name){var h=n.tagLength>>3;l[2]=(s.buffer||s).slice(0,s.byteLength-h),n.tag=(s.buffer||s).slice(s.byteLength-h)}l[1]=i._key;try{u=e.apply(r,l)}catch(t){return Promise.reject(t)}return o&&(u=new Promise((function(e,r){u.onabort=u.onerror=function(t){r(t)},u.oncomplete=function(r){r=r.target.result;if("encrypt"===t&&r instanceof AesGcmEncryptResult){var n=r.ciphertext,i=r.tag;(r=new Uint8Array(n.byteLength+i.byteLength)).set(new Uint8Array(n),0),r.set(new Uint8Array(i),n.byteLength),r=r.buffer}e(r)}}))),u}})),o){var c=r.digest;r.digest=function(t,e){if(!e.byteLength)throw new Error("Empy input is not allowed");var n;try{n=c.call(r,t,e)}catch(t){return Promise.reject(t)}return n=new Promise((function(t,e){n.onabort=n.onerror=function(t){e(t)},n.oncomplete=function(e){t(e.target.result)}}))},t.crypto=Object.create(e,{getRandomValues:{value:function(t){return e.getRandomValues(t)}},subtle:{value:r}}),t.CryptoKey=S}a&&(e.subtle=r,t.Crypto=n,t.SubtleCrypto=i,t.CryptoKey=S)}}}function h(t){return btoa(t).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(t){return t=(t+="===").slice(0,-t.length%4),atob(t.replace(/-/g,"+").replace(/_/g,"/"))}function d(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function p(t){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),String.fromCharCode.apply(String,t)}function g(t){var e={name:(t.name||t||"").toUpperCase().replace("V","v")};switch(e.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":t.length&&(e.length=t.length);break;case"HMAC":t.hash&&(e.hash=g(t.hash)),t.length&&(e.length=t.length);break;case"RSAES-PKCS1-v1_5":t.publicExponent&&(e.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(e.modulusLength=t.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":t.hash&&(e.hash=g(t.hash)),t.publicExponent&&(e.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(e.modulusLength=t.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return e}function y(t){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[t.name][(t.hash||{}).name||t.length||""]}function b(t){(t instanceof ArrayBuffer||t instanceof Uint8Array)&&(t=JSON.parse(decodeURIComponent(escape(p(t)))));var e={kty:t.kty,alg:t.alg,ext:t.ext||t.extractable};switch(e.kty){case"oct":e.k=t.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach((function(r){r in t&&(e[r]=t[r])}));break;default:throw new TypeError("Unsupported key type")}return e}function _(t){var e=b(t);return o&&(e.extractable=e.ext,delete e.ext),d(unescape(encodeURIComponent(JSON.stringify(e)))).buffer}function w(t){var e=E(t),r=!1;e.length>2&&(r=!0,e.shift());var n={ext:!0};switch(e[0][0]){case"1.2.840.113549.1.1.1":var i=["n","e","d","p","q","dp","dq","qi"],s=E(e[1]);r&&s.shift();for(var o=0;o<s.length;o++)s[o][0]||(s[o]=s[o].subarray(1)),n[i[o]]=h(p(s[o]));n.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return n}function m(t){var e,r=[["",null]],n=!1;switch(t.kty){case"RSA":for(var i=["n","e","d","p","q","dp","dq","qi"],s=[],o=0;o<i.length&&i[o]in t;o++){var a=s[o]=d(f(t[i[o]]));128&a[0]&&(s[o]=new Uint8Array(a.length+1),s[o].set(a,1))}s.length>2&&(n=!0,s.unshift(new Uint8Array([0]))),r[0][0]="1.2.840.113549.1.1.1",e=s;break;default:throw new TypeError("Unsupported key type")}return r.push(new Uint8Array(v(e)).buffer),n?r.unshift(new Uint8Array([0])):r[1]={tag:3,value:r[1]},new Uint8Array(v(r)).buffer}function E(t,e){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e||(e={pos:0,end:t.length}),e.end-e.pos<2||e.end>t.length)throw new RangeError("Malformed DER");var r,n=t[e.pos++],i=t[e.pos++];if(i>=128){if(i&=127,e.end-e.pos<i)throw new RangeError("Malformed DER");for(var s=0;i--;)s<<=8,s|=t[e.pos++];i=s}if(e.end-e.pos<i)throw new RangeError("Malformed DER");switch(n){case 2:r=t.subarray(e.pos,e.pos+=i);break;case 3:if(t[e.pos++])throw new Error("Unsupported bit string");i--;case 4:r=new Uint8Array(t.subarray(e.pos,e.pos+=i)).buffer;break;case 5:r=null;break;case 6:var o=btoa(p(t.subarray(e.pos,e.pos+=i)));if(!(o in u))throw new Error("Unsupported OBJECT ID "+o);r=u[o];break;case 48:r=[];for(var a=e.pos+i;e.pos<a;)r.push(E(t,e));break;default:throw new Error("Unsupported DER tag 0x"+n.toString(16))}return r}function v(t,e){e||(e=[]);var r=0,n=0,i=e.length+2;if(e.push(0,0),t instanceof Uint8Array){r=2,n=t.length;for(var s=0;s<n;s++)e.push(t[s])}else if(t instanceof ArrayBuffer){r=4,n=t.byteLength,t=new Uint8Array(t);for(s=0;s<n;s++)e.push(t[s])}else if(null===t)r=5,n=0;else if("string"==typeof t&&t in l){var o=d(atob(l[t]));r=6,n=o.length;for(s=0;s<n;s++)e.push(o[s])}else if(t instanceof Array){for(s=0;s<t.length;s++)v(t[s],e);r=48,n=e.length-i}else{if(!("object"==typeof t&&3===t.tag&&t.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+t);r=3,n=(t=new Uint8Array(t.value)).byteLength,e.push(0);for(s=0;s<n;s++)e.push(t[s]);n++}if(n>=128){var a=n;n=4;for(e.splice(i,0,a>>24&255,a>>16&255,a>>8&255,255&a);n>1&&!(a>>24);)a<<=8,n--;n<4&&e.splice(i,4-n),n|=128}return e.splice(i-2,2,r,n),e}function S(t,e,r,n){Object.defineProperties(this,{_key:{value:t},type:{value:t.type,enumerable:!0},extractable:{value:void 0===r?t.extractable:r,enumerable:!0},algorithm:{value:void 0===e?t.algorithm:e,enumerable:!0},usages:{value:void 0===n?t.usages:n,enumerable:!0}})}function A(t){return"verify"===t||"encrypt"===t||"wrapKey"===t}function T(t){return"sign"===t||"decrypt"===t||"unwrapKey"===t}}));e.a=window.crypto},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";(function(e,n){var i=r(15);t.exports=w;var s,o=r(27);w.ReadableState=_;r(19).EventEmitter;var a=function(t,e){return t.listeners(e).length},u=r(29),l=r(21).Buffer,c=e.Uint8Array||function(){};var h=Object.create(r(12));h.inherits=r(9);var f=r(43),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=r(44),y=r(30);h.inherits(w,u);var b=["error","close","destroy","pause","resume"];function _(t,e){t=t||{};var n=e instanceof(s=s||r(6));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=r(31).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function w(t){if(s=s||r(6),!(this instanceof w))return new w(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function m(t,e,r,n,i){var s,o=t._readableState;null===e?(o.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,S(t)}(t,o)):(i||(s=function(t,e){var r;n=e,l.isBuffer(n)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(o,e)),s?t.emit("error",s):o.objectMode||e&&e.length>0?("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),n?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):E(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||0!==e.length?E(t,o,e,!1):T(t,o)):E(t,o,e,!1))):n||(o.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(o)}function E(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&S(t)),T(t,e)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),w.prototype.destroy=y.destroy,w.prototype._undestroy=y.undestroy,w.prototype._destroy=function(t,e){this.push(null),e(t)},w.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=l.from(t,e),e=""),r=!0),m(this,t,e,!1,r)},w.prototype.unshift=function(t){return m(this,t,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(t){return p||(p=r(31).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};function v(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(A,t):A(t))}function A(t){d("emit readable"),t.emit("readable"),B(t)}function T(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(I,t,e))}function I(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function k(t){d("readable nexttick read 0"),t.read(0)}function R(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),B(t),e.flowing&&!e.reading&&t.read(0)}function B(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function U(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),0===(t-=o)){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=l.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),0===(t-=o)){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function x(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(N,e,t))}function N(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function C(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}w.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?x(this):S(this),null;if(0===(t=v(t,e))&&e.ended)return 0===e.length&&x(this),null;var n,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=v(r,e))),null===(n=t>0?U(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&x(this)),null!==n&&this.emit("data",n),n},w.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(t,e){var r=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=t;break;case 1:s.pipes=[s.pipes,t];break;default:s.pipes.push(t)}s.pipesCount+=1,d("pipe count=%d opts=%j",s.pipesCount,e);var u=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?c:w;function l(e,n){d("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),t.removeListener("close",b),t.removeListener("finish",_),t.removeListener("drain",h),t.removeListener("error",y),t.removeListener("unpipe",l),r.removeListener("end",c),r.removeListener("end",w),r.removeListener("data",g),f=!0,!s.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function c(){d("onend"),t.end()}s.endEmitted?i.nextTick(u):r.once("end",u),t.on("unpipe",l);var h=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,B(t))}}(r);t.on("drain",h);var f=!1;var p=!1;function g(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===s.pipesCount&&s.pipes===t||s.pipesCount>1&&-1!==C(s.pipes,t))&&!f&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function y(e){d("onerror",e),w(),t.removeListener("error",y),0===a(t,"error")&&t.emit("error",e)}function b(){t.removeListener("finish",_),w()}function _(){d("onfinish"),t.removeListener("close",b),w()}function w(){d("unpipe"),r.unpipe(t)}return r.on("data",g),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?o(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",y),t.once("close",b),t.once("finish",_),t.emit("pipe",r),s.flowing||(d("pipe resume"),r.resume()),t},w.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=C(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},w.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&S(this):i.nextTick(k,this))}return r},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(R,t,e))}(this,t)),this},w.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<b.length;s++)t.on(b[s],this.emit.bind(this,b[s]));return this._read=function(e){d("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=U}).call(this,r(7),r(11))},function(t,e,r){t.exports=r(19).EventEmitter},function(t,e,r){"use strict";var n=r(15);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(n.nextTick(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";var n=r(49).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=c,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function c(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},s.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=o(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=o(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=o(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,r){"use strict";t.exports=o;var n=r(6),i=Object.create(r(12));function s(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,r){u(t,e,r)})):u(this,null,null)}function u(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r(9),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,(function(t){e(t),r.emit("close")}))}},function(t,e,r){"use strict";const n=r(5),i=r(13),s=Symbol("INTERNAL_JSON");function o(t,e){if(i.isBufferish(t))t.toJSON=e;else if(Array.isArray(t))for(const r of t)o(r,e);else if(t&&"object"==typeof t&&(!(t instanceof p)||t.tag<21||t.tag>23))for(const r of Object.values(t))o(r,e)}function a(){return i.base64(this)}function u(){return i.base64url(this)}function l(){return this.toString("hex")}const c={0:t=>new Date(t),1:t=>new Date(1e3*t),2:t=>i.bufferToBigInt(t),3:t=>n.BI.MINUS_ONE-i.bufferToBigInt(t),21:(t,e)=>(i.isBufferish(t)?e[s]=u:o(t,u),e),22:(t,e)=>(i.isBufferish(t)?e[s]=a:o(t,a),e),23:(t,e)=>(i.isBufferish(t)?e[s]=l:o(t,l),e),32:t=>new URL(t),33:(t,e)=>{if(!t.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");const r=t.length%4;if(1===r)throw new Error("Invalid base64url length");if(2===r){if(-1==="AQgw".indexOf(t[t.length-1]))throw new Error("Invalid base64 padding")}else if(3===r&&-1==="AEIMQUYcgkosw048".indexOf(t[t.length-1]))throw new Error("Invalid base64 padding");return e},34:(t,e)=>{const r=t.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!r)throw new Error("Invalid base64 characters");if(t.length%4!=0)throw new Error("Invalid base64 length");if("="===r.groups.padding){if(-1==="AQgw".indexOf(t[t.length-2]))throw new Error("Invalid base64 padding")}else if("=="===r.groups.padding&&-1==="AEIMQUYcgkosw048".indexOf(t[t.length-3]))throw new Error("Invalid base64 padding");return e},35:t=>new RegExp(t),258:t=>new Set(t)},h={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};function f(t,e){if(!i.isBufferish(t))throw new TypeError("val not a buffer");const{tag:r}=e,n=h[r];if(!n)throw new Error("Invalid typed array tag: "+r);const s=2**(((16&r)>>4)+(3&r));!(4&r)!==i.isBigEndian()&&s>1&&function(t,e,r,n){const i=new DataView(t),[s,o]={2:[i.getUint16,i.setUint16],4:[i.getUint32,i.setUint32],8:[i.getBigUint64,i.setBigUint64]}[e],a=r+n;for(let t=r;t<a;t+=e)o.call(i,t,s.call(i,t,!0))}(t.buffer,s,t.byteOffset,t.byteLength);return new n(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength))}"undefined"!=typeof BigUint64Array&&(h[67]=BigUint64Array,h[71]=BigUint64Array),"undefined"!=typeof BigInt64Array&&(h[75]=BigInt64Array,h[79]=BigInt64Array);for(const t of Object.keys(h))c[t]=f;let d={};class p{constructor(t,e,r){if(this.tag=t,this.value=e,this.err=r,"number"!=typeof this.tag)throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toJSON(){if(this[s])return this[s].call(this.value);const t={tag:this.tag,value:this.value};return this.err&&(t.err=this.err),t}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){let e=null==t?void 0:t[this.tag];if("function"!=typeof e&&(e=p.TAGS[this.tag],"function"!=typeof e))return this;try{return e.call(this,this.value,this)}catch(t){return t&&t.message&&t.message.length>0?this.err=t.message:this.err=t,this}}static get TAGS(){return d}static set TAGS(t){d=t}static reset(){p.TAGS={...c}}}p.INTERNAL_JSON=s,p.reset(),t.exports=p},function(t,e,r){"use strict";const{MT:n,SIMPLE:i,SYMS:s}=r(5);class o{constructor(t){if("number"!=typeof t)throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(0|t)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return`simple(${this.value})`}inspect(t,e){return`simple(${this.value})`}encodeCBOR(t){return t._pushInt(this.value,n.SIMPLE_FLOAT)}static isSimple(t){return t instanceof o}static decode(t,e=!0,r=!1){switch(t){case i.FALSE:return!1;case i.TRUE:return!0;case i.NULL:return e?null:s.NULL;case i.UNDEFINED:if(e)return;return s.UNDEFINED;case-1:if(!e||!r)throw new Error("Invalid BREAK");return s.BREAK;default:return new o(t)}}}t.exports=o},function(t,e,r){"use strict";const n=r(8),i=r(10),s=r(13),o=r(5),{MT:a,NUMBYTES:u,SHIFT32:l,SIMPLE:c,SYMS:h,TAG:f,BI:d}=o,{Buffer:p}=r(2),g=a.SIMPLE_FLOAT<<5|u.TWO,y=a.SIMPLE_FLOAT<<5|u.FOUR,b=a.SIMPLE_FLOAT<<5|u.EIGHT,_=a.SIMPLE_FLOAT<<5|c.TRUE,w=a.SIMPLE_FLOAT<<5|c.FALSE,m=a.SIMPLE_FLOAT<<5|c.UNDEFINED,E=a.SIMPLE_FLOAT<<5|c.NULL,v=p.from([255]),S=p.from("f97e00","hex"),A=p.from("f9fc00","hex"),T=p.from("f97c00","hex"),I=p.from("f98000","hex"),k={};let R={};class B extends n.Transform{constructor(t={}){const{canonical:e=!1,encodeUndefined:r,disallowUndefinedKeys:n=!1,dateType:i="number",collapseBigIntegers:s=!1,detectLoops:o=!1,omitUndefinedProperties:a=!1,genTypes:u=[],...l}=t;if(super({...l,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=e,this.encodeUndefined=r,this.disallowUndefinedKeys=n,this.dateType=function(t){if(!t)return"number";switch(t.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${t}"`)}(i),this.collapseBigIntegers=!!this.canonical||s,this.detectLoops=void 0,"boolean"==typeof o)o&&(this.detectLoops=new WeakSet);else{if(!(o instanceof WeakSet))throw new TypeError("detectLoops must be boolean or WeakSet");this.detectLoops=o}if(this.omitUndefinedProperties=a,this.semanticTypes={...B.SEMANTIC_TYPES},Array.isArray(u))for(let t=0,e=u.length;t<e;t+=2)this.addSemanticType(u[t],u[t+1]);else for(const[t,e]of Object.entries(u))this.addSemanticType(t,e)}_transform(t,e,r){return r(!1===this.pushAny(t)?new Error("Push Error"):void 0)}_flush(t){return t()}_pushUInt8(t){const e=p.allocUnsafe(1);return e.writeUInt8(t,0),this.push(e)}_pushUInt16BE(t){const e=p.allocUnsafe(2);return e.writeUInt16BE(t,0),this.push(e)}_pushUInt32BE(t){const e=p.allocUnsafe(4);return e.writeUInt32BE(t,0),this.push(e)}_pushFloatBE(t){const e=p.allocUnsafe(4);return e.writeFloatBE(t,0),this.push(e)}_pushDoubleBE(t){const e=p.allocUnsafe(8);return e.writeDoubleBE(t,0),this.push(e)}_pushNaN(){return this.push(S)}_pushInfinity(t){const e=t<0?A:T;return this.push(e)}_pushFloat(t){if(this.canonical){const e=p.allocUnsafe(2);if(s.writeHalf(e,t))return this._pushUInt8(g)&&this.push(e)}return Math.fround(t)===t?this._pushUInt8(y)&&this._pushFloatBE(t):this._pushUInt8(b)&&this._pushDoubleBE(t)}_pushInt(t,e,r){const n=e<<5;switch(!1){case!(t<24):return this._pushUInt8(n|t);case!(t<=255):return this._pushUInt8(n|u.ONE)&&this._pushUInt8(t);case!(t<=65535):return this._pushUInt8(n|u.TWO)&&this._pushUInt16BE(t);case!(t<=4294967295):return this._pushUInt8(n|u.FOUR)&&this._pushUInt32BE(t);case!(t<=Number.MAX_SAFE_INTEGER):return this._pushUInt8(n|u.EIGHT)&&this._pushUInt32BE(Math.floor(t/l))&&this._pushUInt32BE(t%l);default:return e===a.NEG_INT?this._pushFloat(r):this._pushFloat(t)}}_pushIntNum(t){return Object.is(t,-0)?this.push(I):t<0?this._pushInt(-t-1,a.NEG_INT,t):this._pushInt(t,a.POS_INT)}_pushNumber(t){switch(!1){case!isNaN(t):return this._pushNaN();case isFinite(t):return this._pushInfinity(t);case Math.round(t)!==t:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const e=p.byteLength(t,"utf8");return this._pushInt(e,a.UTF8_STRING)&&this.push(t,"utf8")}_pushBoolean(t){return this._pushUInt8(t?_:w)}_pushUndefined(t){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(m);case"function":return this.pushAny(this.encodeUndefined(t));case"object":{const t=s.bufferishToBuffer(this.encodeUndefined);if(t)return this.push(t)}}return this.pushAny(this.encodeUndefined)}_pushNull(t){return this._pushUInt8(E)}_pushTag(t){return this._pushInt(t,a.TAG)}_pushJSBigint(t){let e=a.POS_INT,r=f.POS_BIGINT;if(t<0&&(t=-t+d.MINUS_ONE,e=a.NEG_INT,r=f.NEG_BIGINT),this.collapseBigIntegers&&t<=d.MAXINT64)return t<=4294967295?this._pushInt(Number(t),e):this._pushUInt8(e<<5|u.EIGHT)&&this._pushUInt32BE(Number(t/d.SHIFT32))&&this._pushUInt32BE(Number(t%d.SHIFT32));let n=t.toString(16);n.length%2&&(n="0"+n);const i=p.from(n,"hex");return this._pushTag(r)&&B._pushBuffer(this,i)}_pushObject(t,e){if(!t)return this._pushNull(t);if(!(e={indefinite:!1,skipTypes:!1,...e}).indefinite&&this.detectLoops){if(this.detectLoops.has(t))throw new Error("Loop detected while CBOR encoding.\nCall removeLoopDetectors before resuming.");this.detectLoops.add(t)}if(!e.skipTypes){const e=t.encodeCBOR;if("function"==typeof e)return e.call(t,this);const r=this.semanticTypes[t.constructor.name];if(r)return r.call(t,this,t)}const r=Object.keys(t).filter(e=>{const r=typeof t[e];return"function"!==r&&(!this.omitUndefinedProperties||"undefined"!==r)}),n={};if(this.canonical&&r.sort((t,e)=>{const r=n[t]||(n[t]=B.encode(t)),i=n[e]||(n[e]=B.encode(e));return r.compare(i)}),e.indefinite){if(!this._pushUInt8(a.MAP<<5|u.INDEFINITE))return!1}else if(!this._pushInt(r.length,a.MAP))return!1;let i=null;for(let e=0,s=r.length;e<s;e++){const s=r[e];if(this.canonical&&(i=n[s])){if(!this.push(i))return!1}else if(!this._pushString(s))return!1;if(!this.pushAny(t[s]))return!1}if(e.indefinite){if(!this.push(v))return!1}else this.detectLoops&&this.detectLoops.delete(t);return!0}_encodeAll(t){const e=new i({highWaterMark:this.readableHighWaterMark});this.pipe(e);for(const e of t)this.pushAny(e);return this.end(),e.read()}addSemanticType(t,e){const r="string"==typeof t?t:t.name,n=this.semanticTypes[r];if(e){if("function"!=typeof e)throw new TypeError("fun must be of type function");this.semanticTypes[r]=e}else n&&delete this.semanticTypes[r];return n}pushAny(t){switch(typeof t){case"number":return this._pushNumber(t);case"bigint":return this._pushJSBigint(t);case"string":return this._pushString(t);case"boolean":return this._pushBoolean(t);case"undefined":return this._pushUndefined(t);case"object":return this._pushObject(t);case"symbol":switch(t){case h.NULL:return this._pushNull(null);case h.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error(`Unknown type: ${typeof t}, ${"function"==typeof t.toString?t.toString():""}`)}}static pushArray(t,e,r){r={indefinite:!1,...r};const n=e.length;if(r.indefinite){if(!t._pushUInt8(a.ARRAY<<5|u.INDEFINITE))return!1}else if(!t._pushInt(n,a.ARRAY))return!1;for(let r=0;r<n;r++)if(!t.pushAny(e[r]))return!1;return!(r.indefinite&&!t.push(v))}removeLoopDetectors(){return!!this.detectLoops&&(this.detectLoops=new WeakSet,!0)}static _pushDate(t,e){switch(t.dateType){case"string":return t._pushTag(f.DATE_STRING)&&t._pushString(e.toISOString());case"int":return t._pushTag(f.DATE_EPOCH)&&t._pushIntNum(Math.round(e.getTime()/1e3));case"float":return t._pushTag(f.DATE_EPOCH)&&t._pushFloat(e.getTime()/1e3);case"number":default:return t._pushTag(f.DATE_EPOCH)&&t.pushAny(e.getTime()/1e3)}}static _pushBuffer(t,e){return t._pushInt(e.length,a.BYTE_STRING)&&t.push(e)}static _pushNoFilter(t,e){return B._pushBuffer(t,e.slice())}static _pushRegexp(t,e){return t._pushTag(f.REGEXP)&&t.pushAny(e.source)}static _pushSet(t,e){if(!t._pushTag(f.SET))return!1;if(!t._pushInt(e.size,a.ARRAY))return!1;for(const r of e)if(!t.pushAny(r))return!1;return!0}static _pushURL(t,e){return t._pushTag(f.URI)&&t.pushAny(e.toString())}static _pushBoxed(t,e){return t.pushAny(e.valueOf())}static _pushMap(t,e,r){r={indefinite:!1,...r};let n=[...e.entries()];if(t.omitUndefinedProperties&&(n=n.filter(([t,e])=>void 0!==e)),r.indefinite){if(!t._pushUInt8(a.MAP<<5|u.INDEFINITE))return!1}else if(!t._pushInt(n.length,a.MAP))return!1;if(t.canonical){const e=new B({genTypes:t.semanticTypes,canonical:t.canonical,detectLoops:Boolean(t.detectLoops),dateType:t.dateType,disallowUndefinedKeys:t.disallowUndefinedKeys,collapseBigIntegers:t.collapseBigIntegers}),r=new i({highWaterMark:t.readableHighWaterMark});e.pipe(r),n.sort(([t],[n])=>{e.pushAny(t);const i=r.read();e.pushAny(n);const s=r.read();return i.compare(s)});for(const[e,r]of n){if(t.disallowUndefinedKeys&&void 0===e)throw new Error("Invalid Map key: undefined");if(!t.pushAny(e)||!t.pushAny(r))return!1}}else for(const[e,r]of n){if(t.disallowUndefinedKeys&&void 0===e)throw new Error("Invalid Map key: undefined");if(!t.pushAny(e)||!t.pushAny(r))return!1}return!(r.indefinite&&!t.push(v))}static _pushTypedArray(t,e){let r=64,n=e.BYTES_PER_ELEMENT;const{name:i}=e.constructor;return i.startsWith("Float")?(r|=16,n/=2):i.includes("U")||(r|=8),(i.includes("Clamped")||1!==n&&!s.isBigEndian())&&(r|=4),r|={1:0,2:1,4:2,8:3}[n],!!t._pushTag(r)&&B._pushBuffer(t,p.from(e.buffer,e.byteOffset,e.byteLength))}static _pushArrayBuffer(t,e){return B._pushBuffer(t,p.from(e))}static encodeIndefinite(t,e,r={}){if(null==e){if(null==this)throw new Error("No object to encode");e=this}const{chunkSize:n=4096}=r;let i=!0;const o=typeof e;let l=null;if("string"===o){i=i&&t._pushUInt8(a.UTF8_STRING<<5|u.INDEFINITE);let r=0;for(;r<e.length;){const s=r+n;i=i&&t._pushString(e.slice(r,s)),r=s}i=i&&t.push(v)}else if(l=s.bufferishToBuffer(e)){i=i&&t._pushUInt8(a.BYTE_STRING<<5|u.INDEFINITE);let e=0;for(;e<l.length;){const r=e+n;i=i&&B._pushBuffer(t,l.slice(e,r)),e=r}i=i&&t.push(v)}else if(Array.isArray(e))i=i&&B.pushArray(t,e,{indefinite:!0});else if(e instanceof Map)i=i&&B._pushMap(t,e,{indefinite:!0});else{if("object"!==o)throw new Error("Invalid indefinite encoding");i=i&&t._pushObject(e,{indefinite:!0,skipTypes:!0})}return i}static encode(...t){return(new B)._encodeAll(t)}static encodeCanonical(...t){return new B({canonical:!0})._encodeAll(t)}static encodeOne(t,e){return new B(e)._encodeAll([t])}static encodeAsync(t,e){return new Promise((r,n)=>{const i=[],s=new B(e);s.on("data",t=>i.push(t)),s.on("error",n),s.on("finish",()=>r(p.concat(i))),s.pushAny(t),s.end()})}static get SEMANTIC_TYPES(){return R}static set SEMANTIC_TYPES(t){R=t}static reset(){B.SEMANTIC_TYPES={...k}}}Object.assign(k,{Array:B.pushArray,Date:B._pushDate,Buffer:B._pushBuffer,[p.name]:B._pushBuffer,Map:B._pushMap,NoFilter:B._pushNoFilter,[i.name]:B._pushNoFilter,RegExp:B._pushRegexp,Set:B._pushSet,ArrayBuffer:B._pushArrayBuffer,Uint8ClampedArray:B._pushTypedArray,Uint8Array:B._pushTypedArray,Uint16Array:B._pushTypedArray,Uint32Array:B._pushTypedArray,Int8Array:B._pushTypedArray,Int16Array:B._pushTypedArray,Int32Array:B._pushTypedArray,Float32Array:B._pushTypedArray,Float64Array:B._pushTypedArray,URL:B._pushURL,Boolean:B._pushBoxed,Number:B._pushBoxed,String:B._pushBoxed}),"undefined"!=typeof BigUint64Array&&(k[BigUint64Array.name]=B._pushTypedArray),"undefined"!=typeof BigInt64Array&&(k[BigInt64Array.name]=B._pushTypedArray),B.reset(),t.exports=B},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BufferVisitor=class{constructor(t,e=0,r=0){this.start=e,this.end=r>e?r:e,this.buf=t}get length(){return this.buf.length}reset(t=0,e=0){return this.start=t,e>=this.start?this.end=e:this.end<this.start&&(this.end=this.start),this}walk(t){return this.start=this.end,this.end+=t,this}mustHas(t,e="Too few bytes to parse."){const r=this.end+t;if(r>this.buf.length){const t=new Error(e);throw t.available=this.buf.length,t.requested=r,t}return this.walk(0),this}mustWalk(t,e){return this.mustHas(t,e),this.walk(t),this}}},function(t,e,r){(function(t){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,s=n.length,o=String(t).replace(i,(function(t){if("%%"===t)return"%";if(r>=s)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),u=n[r];r<s;u=n[++r])g(u)||!m(u)?o+=" "+u:o+=" "+a(u);return o},e.deprecate=function(r,n){if(void 0!==t&&!0===t.noDeprecation)return r;if(void 0===t)return function(){return e.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var s,o={};function a(t,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&e._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),c(n,t,n.depth)}function u(t,e){var r=a.styles[e];return r?"["+a.colors[r][0]+"m"+t+"["+a.colors[r][1]+"m":t}function l(t,e){return t}function c(t,r,n){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return b(i)||(i=c(t,i,n)),i}var s=function(t,e){if(_(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(y(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,r);if(s)return s;var o=Object.keys(r),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),v(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(r);if(0===o.length){if(S(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(w(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return t.stylize(Date.prototype.toString.call(r),"date");if(v(r))return h(r)}var l,m="",A=!1,T=["{","}"];(d(r)&&(A=!0,T=["[","]"]),S(r))&&(m=" [Function"+(r.name?": "+r.name:"")+"]");return w(r)&&(m=" "+RegExp.prototype.toString.call(r)),E(r)&&(m=" "+Date.prototype.toUTCString.call(r)),v(r)&&(m=" "+h(r)),0!==o.length||A&&0!=r.length?n<0?w(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),l=A?function(t,e,r,n,i){for(var s=[],o=0,a=e.length;o<a;++o)R(e,String(o))?s.push(f(t,e,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(f(t,e,r,n,i,!0))})),s}(t,r,n,a,o):o.map((function(e){return f(t,r,n,a,e,A)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(l,m,T)):T[0]+m+T[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,r,n,i,s){var o,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),R(n,i)||(o="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=g(r)?c(t,u.value,null):c(t,u.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),_(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return void 0===t}function w(t){return m(t)&&"[object RegExp]"===A(t)}function m(t){return"object"==typeof t&&null!==t}function E(t){return m(t)&&"[object Date]"===A(t)}function v(t){return m(t)&&("[object Error]"===A(t)||t instanceof Error)}function S(t){return"function"==typeof t}function A(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(r){if(_(s)&&(s=t.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(s)){var n=t.pid;o[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,n,t)}}else o[r]=function(){};return o[r]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=b,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=_,e.isRegExp=w,e.isObject=m,e.isDate=E,e.isError=v,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(60);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var t=new Date,e=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":");return[t.getDate(),I[t.getMonth()],e].join(" ")}function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=r(61),e._extend=function(t,e){if(!e||!m(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var B="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function U(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(B&&t[B]){var e;if("function"!=typeof(e=t[B]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,B,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),B&&Object.defineProperty(e,B,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=B,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};e.apply(this,r).then((function(e){t.nextTick(o,null,e)}),(function(e){t.nextTick(U,e,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,n(e)),r}}).call(this,r(11))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=e.createHash=void 0;const n=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],i={sha256:1};e.createHash=function(t){if(t&&!i[t]&&!i[t.toLowerCase()])throw new Error("Digest method not supported");return new s};class s{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!a||u>=8e3)&&(a=new ArrayBuffer(8e3),u=0),this._byte=new Uint8Array(a,u,80),this._word=new Int32Array(a,u,20),u+=80}update(t){if("string"==typeof t)return this._utf8(t);if(null==t)throw new TypeError("Invalid type: "+typeof t);const e=t.byteOffset,r=t.byteLength;let n=r/64|0,i=0;if(n&&!(3&e)&&!(this._size%64)){const r=new Int32Array(t.buffer,e,16*n);for(;n--;)this._int32(r,i>>2),i+=64;this._size+=i}if(1!==t.BYTES_PER_ELEMENT&&t.buffer){const n=new Uint8Array(t.buffer,e+i,r-i);return this._uint8(n)}return i===r?this:this._uint8(t,i)}_uint8(t,e){const{_byte:r,_word:n}=this,i=t.length;for(e|=0;e<i;){const s=this._size%64;let o=s;for(;e<i&&o<64;)r[o++]=t[e++];o>=64&&this._int32(n),this._size+=o-s}return this}_utf8(t){const{_byte:e,_word:r}=this,n=t.length;let i=this._sp;for(let s=0;s<n;){const o=this._size%64;let a=o;for(;s<n&&a<64;){let r=0|t.charCodeAt(s++);r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<55296||r>57343?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):i?(r=((1023&i)<<10)+(1023&r)+65536,e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r,i=0):i=r}a>=64&&(this._int32(r),r[0]=r[16]),this._size+=a-o}return this._sp=i,this}_int32(t,e){let{A:r,B:i,C:s,D:a,E:u,F:l,G:b,H:_}=this,w=0;for(e|=0;w<16;)o[w++]=c(t[e++]);for(w=16;w<64;w++)o[w]=y(o[w-2])+o[w-7]+g(o[w-15])+o[w-16]|0;for(w=0;w<64;w++){const t=_+p(u)+h(u,l,b)+n[w]+o[w]|0,e=d(r)+f(r,i,s)|0;_=b,b=l,l=u,u=a+t|0,a=s,s=i,i=r,r=t+e|0}this.A=r+this.A|0,this.B=i+this.B|0,this.C=s+this.C|0,this.D=a+this.D|0,this.E=u+this.E|0,this.F=l+this.F|0,this.G=b+this.G|0,this.H=_+this.H|0}digest(t){const{_byte:e,_word:r}=this;let n=this._size%64|0;for(e[n++]=128;3&n;)e[n++]=0;if(n>>=2,n>14){for(;n<16;)r[n++]=0;n=0,this._int32(r)}for(;n<16;)r[n++]=0;const i=8*this._size,s=(4294967295&i)>>>0,o=(i-s)/4294967296;return o&&(r[14]=c(o)),s&&(r[15]=c(s)),this._int32(r),"hex"===t?this._hex():this._bin()}_hex(){const{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a}=this;return l(t)+l(e)+l(r)+l(n)+l(i)+l(s)+l(o)+l(a)}_bin(){const{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a,_byte:u,_word:l}=this;return l[0]=c(t),l[1]=c(e),l[2]=c(r),l[3]=c(n),l[4]=c(i),l[5]=c(s),l[6]=c(o),l[7]=c(a),u.slice(0,32)}}e.Hash=s;const o=new Int32Array(64);let a,u=0;const l=t=>(t+4294967296).toString(16).substr(-8),c=254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?t=>t:t=>t<<24&4278190080|t<<8&16711680|t>>8&65280|t>>24&255,h=(t,e,r)=>r^t&(e^r),f=(t,e,r)=>t&e|r&(t|e),d=t=>(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),p=t=>(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),g=t=>(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3,y=t=>(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10},function(t,e){var r="undefined"!=typeof self?self:this,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in t,o="ArrayBuffer"in t;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,r,n=d(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=p(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=l(t),e=c(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},f.prototype.delete=function(t){delete this.map[l(t)]},f.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},f.prototype.set=function(t,e){this.map[l(t)]=c(e)},f.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var r,n,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),_.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function E(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},E.error=function(){var t=new E(null,{status:0,statusText:""});return t.type="error",t};var v=[301,302,303,307,308];E.redirect=function(t,e){if(-1===v.indexOf(e))throw new RangeError("Invalid status code");return new E(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,r){return new Promise((function(n,s){var o=new w(t,r);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new E(i,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",u)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=f,t.Request=w,t.Response=E),e.Headers=f,e.Request=w,e.Response=E,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},function(t,e,r){"use strict";r.r(e);var n=r(3);r.d(e,"sign",(function(){return n.g})),r.d(e,"verify",(function(){return n.k})),r.d(e,"pack",(function(){return n.e})),r.d(e,"unpack",(function(){return n.i})),r.d(e,"signAndPack",(function(){return n.h})),r.d(e,"unpackAndVerify",(function(){return n.j})),r.d(e,"makeCWT",(function(){return n.d})),r.d(e,"parseCWT",(function(){return n.f})),r.d(e,"debug",(function(){return n.c})),r.d(e,"addCachedCerts",(function(){return n.a})),r.d(e,"addCachedKeys",(function(){return n.b}))},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,l=u>>1,c=-7,h=r?i-1:0,f=r?-1:1,d=t[e+h];for(h+=f,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+t[e+h],h+=f,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+t[e+h],h+=f,c-=8);if(0===s)s=1-l;else{if(s===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=l}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,u,l=8*s-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*u-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[r+d]=255&o,d+=p,o/=256,l-=8);t[r+d-p]|=128*g}},function(t,e,r){"use strict";const n=r(8),i=r(13),s=r(16),o=r(10),{MT:a,NUMBYTES:u,SYMS:l}=r(5),{Buffer:c}=r(2);function h(t){return t>1?"s":""}class f extends n.Transform{constructor(t={}){const{depth:e=1,max_depth:r=10,no_summary:n=!1,tags:i={},preferWeb:a,encoding:u,...l}=t;super({...l,readableObjectMode:!1,writableObjectMode:!1}),this.depth=e,this.max_depth=r,this.all=new o,i[24]||(i[24]=this._tag_24.bind(this)),this.parser=new s({tags:i,max_depth:r,preferWeb:a,encoding:u}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),n||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(t){const e=new f({depth:this.depth+1,no_summary:!0});e.on("data",t=>this.push(t)),e.on("error",t=>this.emit("error",t)),e.end(t)}_transform(t,e,r){this.parser.write(t,e,r)}_flush(t){return this.parser._flush(t)}static comment(t,e={},r=null){if(null==t)throw new Error("input required");({options:e,cb:r}=function(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"number":return{options:{max_depth:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}(e,r));const n=new o,{encoding:s="hex",...a}=e,u=new f(a);let l=null;return"function"==typeof r?(u.on("end",()=>{r(null,n.toString("utf8"))}),u.on("error",r)):l=new Promise((t,e)=>{u.on("end",()=>{t(n.toString("utf8"))}),u.on("error",e)}),u.pipe(n),i.guessEncoding(t,s).pipe(u),l}_on_error(t){this.push("ERROR: "),this.push(t.toString()),this.push("\n")}_on_read(t){this.all.write(t);const e=t.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(e);let r=2*(this.max_depth-this.depth)-e.length;return r<1&&(r=1),this.push(new Array(r+1).join(" ")),this.push("-- ")}_on_more(t,e,r,n){let i="";switch(this.depth++,t){case a.POS_INT:i="Positive number,";break;case a.NEG_INT:i="Negative number,";break;case a.ARRAY:i="Array, length";break;case a.MAP:i="Map, count";break;case a.BYTE_STRING:i="Bytes, length";break;case a.UTF8_STRING:i="String, length";break;case a.SIMPLE_FLOAT:i=1===e?"Simple value,":"Float,"}return this.push(`${i} next ${e} byte${h(e)}\n`)}_on_start_string(t,e,r,n){let i="";switch(this.depth++,t){case a.BYTE_STRING:i="Bytes, length: "+e;break;case a.UTF8_STRING:i="String, length: "+e.toString()}return this.push(i+"\n")}_on_start(t,e,r,n){switch(this.depth++,r){case a.ARRAY:this.push(`[${n}], `);break;case a.MAP:n%2?this.push(`{Val:${Math.floor(n/2)}}, `):this.push(`{Key:${Math.floor(n/2)}}, `)}switch(t){case a.TAG:this.push("Tag #"+e),24===e&&this.push(" Encoded CBOR data item");break;case a.ARRAY:e===l.STREAM?this.push("Array (streaming)"):this.push(`Array, ${e} item${h(e)}`);break;case a.MAP:e===l.STREAM?this.push("Map (streaming)"):this.push(`Map, ${e} pair${h(e)}`);break;case a.BYTE_STRING:this.push("Bytes (streaming)");break;case a.UTF8_STRING:this.push("String (streaming)")}return this.push("\n")}_on_stop(t){return this.depth--}_on_value(t,e,r,n){if(t!==l.BREAK)switch(e){case a.ARRAY:this.push(`[${r}], `);break;case a.MAP:r%2?this.push(`{Val:${Math.floor(r/2)}}, `):this.push(`{Key:${Math.floor(r/2)}}, `)}const s=i.cborValueToString(t,-1/0);switch("string"==typeof t||c.isBuffer(t)?(t.length>0&&(this.push(s),this.push("\n")),this.depth--):(this.push(s),this.push("\n")),n){case u.ONE:case u.TWO:case u.FOUR:case u.EIGHT:this.depth--}}_on_data(){return this.push("0x"),this.push(this.all.read().toString("hex")),this.push("\n")}}t.exports=f},function(t,e){},function(t,e,r){"use strict";var n=r(21).Buffer,i=r(45);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e,r,i,s=n.allocUnsafe(t>>>0),o=this.head,a=0;o;)e=o.data,r=s,i=a,e.copy(r,i),a+=o.data.length,o=o.next;return s},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new s(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(47),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(7))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,s,o,a,u=1,l={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((s=new MessageChannel).port1.onmessage=function(t){p(t.data)},n=function(t){s.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,n=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(p,0,t)}:(o="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&p(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),n=function(e){t.postMessage(o+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return l[u]=i,n(u),u++},f.clearImmediate=d}function d(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{d(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(7),r(11))},function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r(7))},function(t,e,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(2),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";t.exports=s;var n=r(32),i=Object.create(r(12));function s(t){if(!(this instanceof s))return new s(t);n.call(this,t)}i.inherits=r(9),i.inherits(s,n),s.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){t.exports=r(22)},function(t,e,r){t.exports=r(6)},function(t,e,r){t.exports=r(20).Transform},function(t,e,r){t.exports=r(20).PassThrough},function(t,e,r){"use strict";const n=r(8),i=r(10),s=n.Transform;t.exports=class extends s{constructor(t){super(t),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new i,this.__restart()}_transform(t,e,r){for(this.bs.write(t);this.bs.length>=this.__needed;){let t=null;const e=null===this.__needed?void 0:this.bs.read(this.__needed);try{t=this.__parser.next(e)}catch(t){return r(t)}this.__needed&&(this.__fresh=!1),t.done?(this.push(t.value),this.__restart()):this.__needed=t.value||1/0}return r()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(t){t(this.__fresh?null:new Error("unexpected end of input"))}}},function(t,e,r){"use strict";const n=r(8),i=r(16),s=r(13),o=r(10),{MT:a,SYMS:u}=r(5);class l extends n.Transform{constructor(t={}){const{separator:e="\n",stream_errors:r=!1,tags:n,max_depth:s,preferWeb:o,encoding:a,...u}=t;super({...u,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=e,this.stream_errors=r,this.parser=new i({tags:n,max_depth:s,preferWeb:o,encoding:a}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(t,e,r){return this.parser.write(t,e,r)}_flush(t){return this.parser._flush(e=>this.stream_errors?(e&&this._on_error(e),t()):t(e))}static diagnose(t,e={},r=null){if(null==t)throw new Error("input required");({options:e,cb:r}=function(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}(e,r));const{encoding:n="hex",...i}=e,a=new o,u=new l(i);let c=null;return"function"==typeof r?(u.on("end",()=>r(null,a.toString("utf8"))),u.on("error",r)):c=new Promise((t,e)=>{u.on("end",()=>t(a.toString("utf8"))),u.on("error",e)}),u.pipe(a),s.guessEncoding(t,n).pipe(u),c}_on_error(t){return this.stream_errors?this.push(t.toString()):this.emit("error",t)}_on_more(t,e,r,n){t===a.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[e])}_fore(t,e){switch(t){case a.BYTE_STRING:case a.UTF8_STRING:case a.ARRAY:e>0&&this.push(", ");break;case a.MAP:e>0&&(e%2?this.push(": "):this.push(", "))}}_on_value(t,e,r){if(t===u.BREAK)return;this._fore(e,r);const n=this.float_bytes;this.float_bytes=-1,this.push(s.cborValueToString(t,n))}_on_start(t,e,r,n){switch(this._fore(r,n),t){case a.TAG:this.push(e+"(");break;case a.ARRAY:this.push("[");break;case a.MAP:this.push("{");break;case a.BYTE_STRING:case a.UTF8_STRING:this.push("(")}e===u.STREAM&&this.push("_ ")}_on_stop(t){switch(t){case a.TAG:this.push(")");break;case a.ARRAY:this.push("]");break;case a.MAP:this.push("}");break;case a.BYTE_STRING:case a.UTF8_STRING:this.push(")")}}_on_data(){this.push(this.separator)}}t.exports=l},function(t,e,r){"use strict";const{Buffer:n}=r(2),i=r(35),s=r(16),{MT:o}=r(5);class a extends Map{constructor(t){super(t)}static _encode(t){return i.encodeCanonical(t).toString("base64")}static _decode(t){return s.decodeFirstSync(t,"base64")}get(t){return super.get(a._encode(t))}set(t,e){return super.set(a._encode(t),e)}delete(t){return super.delete(a._encode(t))}has(t){return super.has(a._encode(t))}*keys(){for(const t of super.keys())yield a._decode(t)}*entries(){for(const t of super.entries())yield[a._decode(t[0]),t[1]]}[Symbol.iterator](){return this.entries()}forEach(t,e){if("function"!=typeof t)throw new TypeError("Must be function");for(const e of super.entries())t.call(this,e[1],a._decode(e[0]),this)}encodeCBOR(t){if(!t._pushInt(this.size,o.MAP))return!1;if(t.canonical){const e=Array.from(super.entries()).map(t=>[n.from(t[0],"base64"),t[1]]);e.sort((t,e)=>t[0].compare(e[0]));for(const r of e)if(!t.push(r[0])||!t.pushAny(r[1]))return!1}else for(const e of super.entries())if(!t.push(n.from(e[0],"base64"))||!t.pushAny(e[1]))return!1;return!0}}t.exports=a},function(t,e,r){(function(e){const r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n=(t,e)=>[Math.floor(t/e),t%e];t.exports={encode:t=>{"string"==typeof t&&(t=e.from(t));let i="";for(let e=0;e<t.length;e+=2)if(t.length-e>1){const s=(t[e]<<8)+t[e+1],[o,a]=n(s,2025),[u,l]=n(a,45);i+=r[l]+r[u]+r[o]}else{const[s,o]=n(t[e],45);i+=r[o]+r[s]}return i},decode:t=>{const i=Array.from(t).map(t=>r.indexOf(t)),s=[];for(let t=0;t<i.length;t+=3)if(i.length-t>=3){const e=i[t]+45*i[t+1]+45*i[t+2]*45;s.push(...n(e,256))}else{const e=i[t]+45*i[t+1];s.push(e)}return e.from(s)}}}).call(this,r(2).Buffer)},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const n=r(37);class i{static parse(t){const e=[],r=t.toString("utf8").split("\n").map(t=>t.trim()).filter(t=>""!==t&&!t.startsWith("#"));for(;r.length>0;)e.push(s(r));if(0===e.length)throw new Error("PEM: no block");return e}constructor(t,e){this.type=t,this.body=e,this.headers=Object.create(null)}get procType(){return this.getHeader("Proc-Type")}getHeader(t){const e=this.headers[t];return null==e?"":e}setHeader(t,e){if(t.includes(":"))throw new Error("pem: cannot encode a header key that contains a colon");if(""===t||""===e)throw new Error("pem: invalid header key or value");this.headers[t]=e}toString(){let t="-----BEGIN "+this.type+"-----\n";const e=Object.keys(this.headers);if(e.length>0){const r=this.procType;""!==r&&(t+=`Proc-Type: ${r}\n`),e.sort();for(const r of e)"Proc-Type"!==r&&(t+=`${r}: ${this.headers[r]}\n`);t+="\n"}const r=this.body.toString("base64");let n=0;for(;n<r.length;)t+=r.slice(n,n+64)+"\n",n+=64;return t+="-----END "+this.type+"-----\n",t}toBuffer(){return t.from(this.toString(),"utf8")}valueOf(){return this.body}toJSON(){return{type:this.type,body:this.body,headers:this.headers}}[n.inspect.custom](t,e){return`<${this.constructor.name} ${n.inspect(this.toJSON(),e)}>`}}function s(e){let r=e.shift();if(null==r||!r.startsWith("-----BEGIN ")||!r.endsWith("-----"))throw new Error("pem: invalid BEGIN line");const n=r.slice("-----BEGIN ".length,r.length-"-----".length);if(""===n)throw new Error("pem: invalid type");const s=[];for(r=e.shift();null!=r&&r.includes(": ");){const t=r.split(": ");if(2!==t.length||""===t[0]||""===t[1])throw new Error("pem: invalid Header line");s.push(t),r=e.shift()}let o="";for(;null!=r&&!r.startsWith("-----END ");)o+=r,r=e.shift();if(null==r||r!==`-----END ${n}-----`)throw new Error("pem: invalid END line");const a=new i(n,t.from(o,"base64"));if(""===o||a.body.toString("base64")!==o)throw new Error("pem: invalid base64 body");for(const t of s)a.setHeader(t[0],t[1]);return a}e.PEM=i}).call(this,r(2).Buffer)},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const n=r(37),i=r(36);var s,o;!function(t){t[t.UNIVERSAL=0]="UNIVERSAL",t[t.APPLICATION=64]="APPLICATION",t[t.CONTEXT_SPECIFIC=128]="CONTEXT_SPECIFIC",t[t.PRIVATE=192]="PRIVATE"}(s=e.Class||(e.Class={})),function(t){t[t.NONE=0]="NONE",t[t.BOOLEAN=1]="BOOLEAN",t[t.INTEGER=2]="INTEGER",t[t.BITSTRING=3]="BITSTRING",t[t.OCTETSTRING=4]="OCTETSTRING",t[t.NULL=5]="NULL",t[t.OID=6]="OID",t[t.ENUMERATED=10]="ENUMERATED",t[t.UTF8=12]="UTF8",t[t.SEQUENCE=16]="SEQUENCE",t[t.SET=17]="SET",t[t.NUMERICSTRING=18]="NUMERICSTRING",t[t.PRINTABLESTRING=19]="PRINTABLESTRING",t[t.T61STRING=20]="T61STRING",t[t.IA5STRING=22]="IA5STRING",t[t.UTCTIME=23]="UTCTIME",t[t.GENERALIZEDTIME=24]="GENERALIZEDTIME",t[t.GENERALSTRING=27]="GENERALSTRING"}(o=e.Tag||(e.Tag={}));class a{constructor(t,e){this.buf=t,this.bitLen=e}at(t){if(t<0||t>=this.bitLen||!Number.isInteger(t))return 0;const e=Math.floor(t/8),r=7-t%8;return this.buf[e]>>r&1}rightAlign(){const e=8-this.bitLen%8;if(8===e||0===this.buf.length)return this.buf;const r=t.alloc(this.buf.length);r[0]=this.buf[0]>>e;for(let t=1;t<this.buf.length;t++)r[t]=this.buf[t-1]<<8-e,r[t]|=this.buf[t]>>e;return r}}e.BitString=a;class u{static Bool(e){const r=new u(s.UNIVERSAL,o.BOOLEAN,t.from([e?255:0]));return r._value=e,r}static parseBool(e){if(!(e instanceof t)||1!==e.length)throw new Error("ASN1 syntax error: invalid boolean");switch(e[0]){case 0:return!1;case 255:return!0;default:throw new Error("ASN1 syntax error: invalid boolean")}}static Integer(e){if(e instanceof t){const t=new u(s.UNIVERSAL,o.INTEGER,e);return t._value=e.toString("hex"),t}if(!Number.isSafeInteger(e))throw new Error("ASN1 syntax error: invalid integer");let r;if(e>=-128&&e<128)r=t.alloc(1),r.writeInt8(e,0);else if(e>=-32768&&e<32768)r=t.alloc(2),r.writeIntBE(e,0,2);else if(e>=-8388608&&e<8388608)r=t.alloc(3),r.writeIntBE(e,0,3);else if(e>=-2147483648&&e<2147483648)r=t.alloc(4),r.writeIntBE(e,0,4);else if(e>=-549755813888&&e<549755813888)r=t.alloc(5),r.writeIntBE(e,0,5);else{if(!(e>=-0x800000000000&&e<0x800000000000))throw new Error("ASN1 syntax error: invalid Integer");r=t.alloc(6),r.writeIntBE(e,0,6)}const n=new u(s.UNIVERSAL,o.INTEGER,r);return n._value=e,n}static parseInteger(e){if(!(e instanceof t)||0===e.length)throw new Error("ASN1 syntax error: invalid Integer");return e.length>6?e.toString("hex"):e.readIntBE(0,e.length)}static parseIntegerNum(t){const e=u.parseInteger(t);if("number"!=typeof e)throw new Error("ASN1 syntax error: invalid Integer number");return e}static parseIntegerStr(t){const e=u.parseInteger(t);return"number"==typeof e?e.toString(16):e}static BitString(e){e instanceof t&&(e=new a(e,8*e.length));const r=8*e.buf.length-e.bitLen,n=t.alloc(e.buf.length+1);return n.writeInt8(r,0),e.buf.copy(n,1),new u(s.UNIVERSAL,o.BITSTRING,n)}static parseBitString(e){if(!(e instanceof t)||0===e.length)throw new Error("ASN1 syntax error: invalid BitString");const r=e[0];if(r>7||1===e.length&&r>0||0!=(e[e.length-1]&(1<<e[0])-1))throw new Error("ASN1 syntax error: invalid padding bits in BIT STRING");return new a(e.slice(1),8*(e.length-1)-r)}static Null(){const e=new u(s.UNIVERSAL,o.NULL,t.alloc(0));return e._value=null,e}static parseNull(e){if(!(e instanceof t)||0!==e.length)throw new Error("ASN1 syntax error: invalid null");return null}static OID(e){const r=e.split(".");if(0===r.length)throw new Error("ASN1 syntax error: invalid Object Identifier");const n=[];n.push(40*h(r[0])+h(r[1]));const i=[];for(let t=2;t<r.length;++t){let e=h(r[t]);for(i.length=0,i.push(127&e);e>127;)e>>>=7,i.unshift(127&e|128);n.push(...i)}const a=new u(s.UNIVERSAL,o.OID,t.from(n));return a._value=e,a}static parseOID(e){if(!(e instanceof t)||0===e.length)throw new Error("ASN1 syntax error: invalid OID");let r=Math.floor(e[0]/40)+"."+e[0]%40,n=0;for(let t=1;t<e.length;t++)e[t]>=128?(n+=127&e[t],n<<=7):(r+="."+(n+e[t]),n=0);return r}static UTF8(e){const r=new u(s.UNIVERSAL,o.UTF8,t.from(e,"utf8"));return r._value=e,r}static parseUTF8(e){if(!(e instanceof t))throw new Error("parse ASN1 error: invalid Buffer");return e.toString("utf8")}static NumericString(e){if(!l(e))throw new Error("ASN1 syntax error: invalid NumericString");const r=new u(s.UNIVERSAL,o.NUMERICSTRING,t.from(e,"utf8"));return r._value=e,r}static parseNumericString(e){if(!(e instanceof t))throw new Error("parse ASN1 error: invalid Buffer");const r=e.toString("utf8");if(!l(r))throw new Error("ASN1 syntax error: invalid NumericString");return r}static PrintableString(e){const r=new u(s.UNIVERSAL,o.PRINTABLESTRING,t.from(e,"utf8"));return r._value=e,r}static parsePrintableString(e){if(!(e instanceof t))throw new Error("parse ASN1 error: invalid Buffer");return e.toString("utf8")}static IA5String(e){if(!c(e))throw new Error("ASN1 syntax error: invalid IA5String");const r=new u(s.UNIVERSAL,o.IA5STRING,t.from(e,"utf8"));return r._value=e,r}static parseIA5String(e){if(!(e instanceof t))throw new Error("parse ASN1 error: invalid Buffer");const r=e.toString("utf8");if(!c(r))throw new Error("ASN1 syntax error: invalid IA5String");return r}static T61String(e){const r=new u(s.UNIVERSAL,o.T61STRING,t.from(e,"utf8"));return r._value=e,r}static parseT61String(e){if(!(e instanceof t))throw new Error("parse ASN1 error: invalid Buffer");return e.toString("utf8")}static GeneralString(e){const r=new u(s.UNIVERSAL,o.GENERALSTRING,t.from(e,"utf8"));return r._value=e,r}static parseGeneralString(e){if(!(e instanceof t))throw new Error("parse ASN1 error: invalid Buffer");return e.toString("utf8")}static UTCTime(e){let r="";const n=[];n.push((""+e.getUTCFullYear()).substr(2)),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(const t of n)t.length<2&&(r+="0"),r+=t;r+="Z";const i=new u(s.UNIVERSAL,o.UTCTIME,t.from(r,"utf8"));return i._value=e,i}static parseUTCTime(e){if(!(e instanceof t)||0===e.length)throw new Error("ASN1 syntax error: invalid UTC Time");const r=e.toString("utf8"),n=new Date;let i=h(r.substr(0,2));i=i>=50?1900+i:2e3+i;const s=h(r.substr(2,2))-1,o=h(r.substr(4,2)),a=h(r.substr(6,2)),u=h(r.substr(8,2));let l=0,c=0,f="";if(r.length>11&&(c=10,f=r.charAt(c),"+"!==f&&"-"!==f&&(l=h(r.substr(10,2)),c+=2)),n.setUTCFullYear(i,s,o),n.setUTCHours(a,u,l,0),c>0&&(f=r.charAt(c),"+"===f||"-"===f)){let t=60*h(r.substr(c+1,2))+h(r.substr(c+4,2));t*=6e4,"+"===f?n.setTime(+n-t):n.setTime(+n+t)}return n}static GeneralizedTime(e){let r="";const n=[];n.push(""+e.getUTCFullYear()),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(const t of n)t.length<2&&(r+="0"),r+=t;r+="Z";const i=new u(s.UNIVERSAL,o.GENERALIZEDTIME,t.from(r,"utf8"));return i._value=e,i}static parseGeneralizedTime(e){if(!(e instanceof t)||0===e.length)throw new Error("ASN1 syntax error: invalid Generalized Time");const r=e.toString("utf8"),n=new Date,i=h(r.substr(0,4)),s=h(r.substr(4,2))-1,o=h(r.substr(6,2)),a=h(r.substr(8,2)),u=h(r.substr(10,2)),l=h(r.substr(12,2));let c=0,f=0,d=!1;"Z"===r.charAt(r.length-1)&&(d=!0);const p=r.length-5,g=r.charAt(p);if("+"===g||"-"===g){f=60*h(r.substr(p+1,2))+h(r.substr(p+4,2)),f*=6e4,"+"===g&&(f*=-1),d=!0}return"."===r.charAt(14)&&(c=1e3*parseFloat(r.substr(14))),d?(n.setUTCFullYear(i,s,o),n.setUTCHours(a,u,l,c),n.setTime(+n+f)):(n.setFullYear(i,s,o),n.setHours(a,u,l,c)),n}static parseTime(t,e){switch(t){case o.UTCTIME:return u.parseUTCTime(e);case o.GENERALIZEDTIME:return u.parseGeneralizedTime(e);default:throw new Error("Invalid ASN1 time tag")}}static Set(e){const r=new u(s.UNIVERSAL,o.SET,t.concat(e.map(t=>t.toDER())));return r._value=e,r}static Seq(e){const r=new u(s.UNIVERSAL,o.SEQUENCE,t.concat(e.map(t=>t.toDER())));return r._value=e,r}static Spec(e,r,n=!0){const i=Array.isArray(r)?t.concat(r.map(t=>t.toDER())):r.toDER();Array.isArray(r)&&(n=!0);const o=new u(s.CONTEXT_SPECIFIC,e,i,n);return o._value=r,o}static fromDER(t,e=!1){return u._fromDER(new i.BufferVisitor(t),e)}static parseDER(t,e,r){const n=u._fromDER(new i.BufferVisitor(t),!1);if(n.class!==e&&n.tag!==r)throw new Error(`invalid ASN.1 DER for class ${e} and tag ${r}`);return n}static parseDERWithTemplate(t,e){const r=u._fromDER(new i.BufferVisitor(t),!0),n={},s=r.validate(e,n);if(null!=s)throw s.data=r,s;return n}static _parseCompound(t,e){const r=[],n=t.length,s=new i.BufferVisitor(t);let o=0;for(;o<n;){const t=s.end;r.push(u._fromDER(s,e)),o+=s.end-t}return r}static _fromDER(e,r){if(!(e.buf instanceof t)||0===e.length)throw new Error("ASN1 syntax error: invalid Generalized Time");e.mustWalk(1,"Too few bytes to read ASN.1 tag.");const n=e.start,i=e.buf[n],s=192&i,a=31&i,l=function(t){t.mustWalk(1,"Too few bytes to read ASN.1 value length.");const e=t.buf[t.start];if(0==(128&e))return e;const r=127&e;return t.mustWalk(r,"Too few bytes to read ASN.1 value length."),t.buf.readUIntBE(t.start,r)}(e);if(e.mustHas(l),0!==l&&a===o.NULL)throw new Error("invalid value length or NULL tag.");e.mustWalk(l);const c=32==(32&i),h=new u(s,a,e.buf.slice(e.start,e.end),c);return c&&r&&(h._value=u._parseCompound(h.bytes,r)),h._der=e.buf.slice(n,e.end),h}constructor(t,e,r,n=!1){this.class=t,this.tag=e,this.bytes=r,this.isCompound=n||e===o.SEQUENCE||e===o.SET,this._value=void 0,this._der=null}get value(){return void 0===this._value&&(this._value=this.valueOf()),this._value}get DER(){return null==this._der&&(this._der=this.toDER()),this._der}mustCompound(t="asn1 object value is not compound"){if(!this.isCompound||!Array.isArray(this.value)){const e=new Error(t);throw e.data=this.toJSON(),e}return this.value}equals(t){return t instanceof u&&(this.class===t.class&&this.tag===t.tag&&this.isCompound===t.isCompound&&!!this.bytes.equals(t.bytes))}toDER(){let e=this.class|this.tag;this.isCompound&&(e|=32);const r=function(t){if(t<=127)return 0;if(t<=255)return 1;if(t<=65535)return 2;if(t<=16777215)return 3;if(t<=4294967295)return 4;if(t<=0xffffffffff)return 5;if(t<=0xffffffffffff)return 6;throw new Error("invalid value length")}(this.bytes.length),n=t.allocUnsafe(2+r+this.bytes.length);return n.writeInt8(e,0),0===r?(n.writeUInt8(this.bytes.length,1),this.bytes.copy(n,2)):(n.writeUInt8(128|r,1),n.writeUIntBE(this.bytes.length,2,r),this.bytes.copy(n,2+r)),n}valueOf(){if(this.isCompound)return u._parseCompound(this.bytes,!1);if(this.class!==s.UNIVERSAL)return this.bytes;switch(this.tag){case o.BOOLEAN:return u.parseBool(this.bytes);case o.INTEGER:return u.parseInteger(this.bytes);case o.BITSTRING:return u.parseBitString(this.bytes);case o.NULL:return u.parseNull(this.bytes);case o.OID:return u.parseOID(this.bytes);case o.UTF8:return u.parseUTF8(this.bytes);case o.NUMERICSTRING:return u.parseNumericString(this.bytes);case o.PRINTABLESTRING:return u.parsePrintableString(this.bytes);case o.T61STRING:return u.parseT61String(this.bytes);case o.IA5STRING:return u.parseIA5String(this.bytes);case o.GENERALSTRING:return u.parseGeneralString(this.bytes);case o.UTCTIME:return u.parseUTCTime(this.bytes);case o.GENERALIZEDTIME:return u.parseGeneralizedTime(this.bytes);default:return this.bytes}}validate(t,e={}){if(this.class!==t.class)return new Error(`ASN.1 object validate failure for ${t.name} : error class ${s[this.class]}`);if(!(Array.isArray(t.tag)?t.tag:[t.tag]).includes(this.tag))return new Error(`ASN.1 object validate failure for ${t.name}: error tag ${o[this.tag]}`);if(null!=t.capture&&(e[t.capture]=this),Array.isArray(t.value)){const r=this.mustCompound(t.name+" need compound ASN1 value");for(let n=0,i=0;n<t.value.length;n++)if(null!=r[i]){const s=r[i].validate(t.value[n],e);if(null==s)i++;else if(!0!==t.value[n].optional)return s}else if(!0!==t.value[n].optional)return new Error(`ASN.1 object validate failure for ${t.value[n].name}: not exists`)}else if(null!=t.value){const r=this.tag===o.BITSTRING?this.bytes.slice(1):this.bytes;return u.fromDER(r).validate(t.value,e)}return null}toJSON(){let t=this.value;return Array.isArray(t)&&(t=t.map(t=>t.toJSON())),{class:s[this.class],tag:this.class===s.UNIVERSAL?o[this.tag]:this.tag,value:t}}[n.inspect.custom](t,e){return e.depth<=2&&(e.depth=10),`<${this.constructor.name} ${n.inspect(this.toJSON(),e)}>`}}function l(t){for(const e of t){const t=e.charCodeAt(0);if(32!==t&&(t<48||t>57))return!1}return!0}function c(t){for(const e of t)if(e.charCodeAt(0)>=128)return!1;return!0}function h(t,e=10){const r=parseInt(t,e);if(Number.isNaN(r))throw new Error(`Invalid numeric string "${t}" in radix ${e}.`);return r}e.ASN1=u}).call(this,r(2).Buffer)}])}));
//# sourceMappingURL=dcc-sdk.min.js.map